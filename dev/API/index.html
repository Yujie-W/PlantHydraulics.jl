<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · PlantHydraulics</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">PlantHydraulics</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Plant-Hydraulic-System"><span>Plant Hydraulic System</span></a></li><li><a class="tocitem" href="#Leaf,-Root,-and-Stem-organs"><span>Leaf, Root, and Stem organs</span></a></li><li><a class="tocitem" href="#Whole-plant-organism"><span>Whole-plant organism</span></a></li><li><a class="tocitem" href="#Xylem-hydraulic-conductance"><span>Xylem hydraulic conductance</span></a></li><li><a class="tocitem" href="#Rhizosphere-hydraulic-conductance"><span>Rhizosphere hydraulic conductance</span></a></li><li><a class="tocitem" href="#Pressure-and-Flow"><span>Pressure and Flow</span></a></li><li><a class="tocitem" href="#Steady-state-and-non-steady-state-mode"><span>Steady state and non-steady state mode</span></a></li><li><a class="tocitem" href="#Root-Hydraulics"><span>Root Hydraulics</span></a></li><li><a class="tocitem" href="#Leaf-Hydraulics"><span>Leaf Hydraulics</span></a></li><li><a class="tocitem" href="#Whole-plant-Hydraulics"><span>Whole-plant Hydraulics</span></a></li><li><a class="tocitem" href="#Temperature-effects"><span>Temperature effects</span></a></li><li><a class="tocitem" href="#Pressure-volume-curve"><span>Pressure-volume curve</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../generated/diurnal/">Diurnal</a></li><li><a class="tocitem" href="../generated/soils/">Soils</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/master/docs/src/API.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="Plant-Hydraulic-System"><a class="docs-heading-anchor" href="#Plant-Hydraulic-System">Plant Hydraulic System</a><a id="Plant-Hydraulic-System-1"></a><a class="docs-heading-anchor-permalink" href="#Plant-Hydraulic-System" title="Permalink"></a></h2><p>The PlantHydraulics module provides two levels of hydraulics system:     organ-level and plant-level. The organ-level hydraulic systems include     Leaf, Root, and Stem (trunk and branch). The plant-level hydraulic system     is can be any combination of the three organs (custimized definition may     apply).</p><h2 id="Leaf,-Root,-and-Stem-organs"><a class="docs-heading-anchor" href="#Leaf,-Root,-and-Stem-organs">Leaf, Root, and Stem organs</a><a id="Leaf,-Root,-and-Stem-organs-1"></a><a class="docs-heading-anchor-permalink" href="#Leaf,-Root,-and-Stem-organs" title="Permalink"></a></h2><p>Plant hydraulics is segmented to three organ-level systems/structs     (<a href="#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a>, <a href="#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a>, and     <a href="#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a>) subject to an Abstract type     (<a href="#PlantHydraulics.AbstractHydraulicOrgan"><code>AbstractHydraulicOrgan</code></a>). The major differences among the three     structs are</p><ul><li><a href="#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> has an extra-xylary component</li><li><a href="#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> has a rhizosphere component</li><li><a href="#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> and <a href="#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a> have a gravity component</li></ul><p>See the documentation for each struct for more details:</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.AbstractHydraulicOrgan" href="#PlantHydraulics.AbstractHydraulicOrgan"><code>PlantHydraulics.AbstractHydraulicOrgan</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">abstract type AbstractHydraulicOrgan{FT}</code></pre><p>Hierarchy of AbstractHydraulicOrgan</p><ul><li><a href="#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a></li><li><a href="#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a></li><li><a href="#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/types/organ.jl#L11-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.LeafHydraulics" href="#PlantHydraulics.LeafHydraulics"><code>PlantHydraulics.LeafHydraulics</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct LeafHydraulics{FT}</code></pre><p>A struct that contains leaf hydraulics information.</p><p><strong>Fields</strong></p><ul><li><p><code>N</code></p></li><li><p><code>area</code></p><p>Leaf area <code>[m²]</code></p></li><li><p><code>k_ox</code></p><p>Maximal extra-xylary hydraulic conductance <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>k_sla</code></p><p>Maximal leaf hydraulic conductance per leaf area <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>vc</code></p><p>Vulnerability curve</p></li><li><p><code>p_crt</code></p><p>Critical xylem pressure <code>[MPa]</code></p></li><li><p><code>flow</code></p><p>Flow rate in the xylem <code>[mol s⁻¹]</code></p></li><li><p><code>p_dos</code></p><p>Leaf xylem water pressure at the downstream end of leaf xylem <code>[MPa]</code></p></li><li><p><code>p_leaf</code></p><p>Leaf end water pressure at air-water interface <code>[MPa]</code></p></li><li><p><code>p_ups</code></p><p>Leaf xylem water pressure at the leaf base (upstream) <code>[MPa]</code></p></li><li><p><code>k_element</code></p><p>List of leaf k_max per element <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>k_history</code></p><p>List of leaf kr history per element</p></li><li><p><code>p_element</code></p><p>List of xylem water pressure <code>[MPa]</code></p></li><li><p><code>p_history</code></p><p>List of xylem water pressure history (normalized to 298.15 K) <code>[MPa]</code></p></li><li><p><code>f_st</code></p><p>Relative surface tension</p></li><li><p><code>f_vis</code></p><p>Relative viscosity</p></li><li><p><code>T_old</code></p><p>Temperature memory <code>[K]</code></p></li><li><p><code>T_sap</code></p><p>Upstream sap temperature <code>[K]</code></p></li><li><p><code>pv</code></p><p>Pressure volume curve for storage</p></li><li><p><code>p_storage</code></p><p>Pressure of storage</p></li><li><p><code>v_maximum</code></p><p>Total capaciatance at Ψ = 0 <code>[mol m⁻²]</code></p></li><li><p><code>v_storage</code></p><p>Current capaciatance at Ψ_leaf <code>[mol m⁻²]</code></p></li><li><p><code>q_in</code></p><p>Flow rate into the tissue (used for non-steady state) <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>q_out</code></p><p>Flow rate out of the tissue (used for non-steady state) <code>[mol m⁻² s⁻¹]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.RootHydraulics" href="#PlantHydraulics.RootHydraulics"><code>PlantHydraulics.RootHydraulics</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct RootHydraulics{FT}</code></pre><p>A struct that contains root hydraulics information.</p><p><strong>Fields</strong></p><ul><li><p><code>N</code></p></li><li><p><code>area</code></p><p>Root cross-section area <code>[m²]</code></p></li><li><p><code>k_max</code></p><p>Maximal hydraulic conductance <code>[mol s⁻¹ MPa⁻¹]</code></p></li><li><p><code>k_s</code></p><p>Maximal xylem hydraulic conductivity <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>vc</code></p><p>Vulnerability curve</p></li><li><p><code>Δh</code></p><p>Root z difference <code>[m]</code></p></li><li><p><code>k_rhiz</code></p><p>Rhizosphere  conductance <code>[mol s⁻¹ MPa⁻¹]</code></p></li><li><p><code>sh</code></p><p>Soil hydraulics</p></li><li><p><code>flow</code></p><p>Flow rate in the xylem <code>[mol s⁻¹]</code></p></li><li><p><code>p_dos</code></p><p>Xylem water pressure at the downstream end of xylem <code>[MPa]</code></p></li><li><p><code>p_rhiz</code></p><p>Xylem-rhizosphere interface water pressure <code>[MPa]</code></p></li><li><p><code>p_ups</code></p><p>Soil matrix potential <code>[MPa]</code></p></li><li><p><code>p_osm</code></p><p>Soil osmotic potential at 298.15 K `[MPa]</p></li><li><p><code>k_element</code></p><p>List of k_max per element <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>k_history</code></p><p>List of kr history per element</p></li><li><p><code>p_element</code></p><p>List of xylem water pressure <code>[MPa]</code></p></li><li><p><code>p_gravity</code></p><p>List of pressure drop caused by gravity <code>[MPa]</code></p></li><li><p><code>p_history</code></p><p>List of xylem water pressure history (normalized to 298.15 K) <code>[MPa]</code></p></li><li><p><code>f_st</code></p><p>Relative surface tension</p></li><li><p><code>f_vis</code></p><p>Relative viscosity</p></li><li><p><code>T_old</code></p><p>Temperature memory <code>[K]</code></p></li><li><p><code>T_sap</code></p><p>Upstream sap temperature <code>[K]</code></p></li><li><p><code>pv</code></p><p>Pressure volume curve for storage</p></li><li><p><code>p_storage</code></p><p>Pressure of storage per element</p></li><li><p><code>v_maximum</code></p><p>Maximal storage per element <code>[mol]</code></p></li><li><p><code>v_storage</code></p><p>Storage per element <code>[mol]</code></p></li><li><p><code>q_element</code></p><p>List of xylem water flow <code>[mol m⁻²]</code></p></li><li><p><code>q_buffer</code></p><p>List of buffer water flow <code>[mol m⁻²]</code></p></li><li><p><code>q_diff</code></p><p>List of diiferntial water flow <code>[mol m⁻²]</code></p></li><li><p><code>q_in</code></p><p>Flow rate into the tissue (used for non-steady state) <code>[mol s⁻¹]</code></p></li><li><p><code>q_out</code></p><p>Flow rate out of the tissue (used for non-steady state) <code>[mol s⁻¹]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.StemHydraulics" href="#PlantHydraulics.StemHydraulics"><code>PlantHydraulics.StemHydraulics</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct StemHydraulics{FT}</code></pre><p>A struct that contains stem hydraulics information.</p><p><strong>Fields</strong></p><ul><li><p><code>N</code></p></li><li><p><code>area</code></p><p>Stem cross-section area <code>[m²]</code></p></li><li><p><code>k_max</code></p><p>Maximal hydraulic conductance <code>[mol s⁻¹ MPa⁻¹]</code></p></li><li><p><code>k_s</code></p><p>Maximal xylem hydraulic conductivity <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>vc</code></p><p>Vulnerability curve</p></li><li><p><code>Δh</code></p><p>Stem height difference <code>[m]</code></p></li><li><p><code>flow</code></p><p>Flow rate in the xylem <code>[mol s⁻¹]</code></p></li><li><p><code>p_dos</code></p><p>Xylem water pressure at the downstream end of xylem <code>[MPa]</code></p></li><li><p><code>p_ups</code></p><p>Xylem water pressure at the base (upstream) <code>[MPa]</code></p></li><li><p><code>k_element</code></p><p>List of k_max per element <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>k_history</code></p><p>List of kr history per element</p></li><li><p><code>p_element</code></p><p>List of xylem water pressure <code>[MPa]</code></p></li><li><p><code>p_gravity</code></p><p>List of pressure drop caused by gravity <code>[MPa]</code></p></li><li><p><code>p_history</code></p><p>List of xylem water pressure history (normalized to 298.15 K) <code>[MPa]</code></p></li><li><p><code>f_st</code></p><p>Relative surface tension</p></li><li><p><code>f_vis</code></p><p>Relative viscosity</p></li><li><p><code>T_old</code></p><p>Temperature memory <code>[K]</code></p></li><li><p><code>T_sap</code></p><p>Upstream sap temperature <code>[K]</code></p></li><li><p><code>pv</code></p><p>Pressure volume curve for storage</p></li><li><p><code>p_storage</code></p><p>Pressure of storage per element</p></li><li><p><code>v_maximum</code></p><p>Maximal storage per element <code>[mol]</code></p></li><li><p><code>v_storage</code></p><p>Storage per element <code>[mol]</code></p></li><li><p><code>q_element</code></p><p>List of xylem water flow <code>[mol m⁻²]</code></p></li><li><p><code>q_in</code></p><p>Flow rate into the tissue (used for non-steady state) <code>[mol s⁻¹]</code></p></li><li><p><code>q_out</code></p><p>Flow rate out of the tissue (used for non-steady state) <code>[mol s⁻¹]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><p>To initialize a hydraulics system, one needs to provide the floating type, for     example:</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
hs_leaf = LeafHydraulics{FT}();
hs_root = RootHydraulics{FT}();
hs_stem = StemHydraulics{FT}();</code></pre><h2 id="Whole-plant-organism"><a class="docs-heading-anchor" href="#Whole-plant-organism">Whole-plant organism</a><a id="Whole-plant-organism-1"></a><a class="docs-heading-anchor-permalink" href="#Whole-plant-organism" title="Permalink"></a></h2><p>Plants differ in their structures, for example, some plants have a canopy far     above the ground elevated by a trunk, some plants have a structured canopy     supported by branch systems, and some plant has no trunk at all. To     represent the structural differences, several types of plant hydraulics     systems are pre-defined, and they are <a href="#PlantHydraulics.GrassLikeOrganism"><code>GrassLikeOrganism</code></a>,     <a href="#PlantHydraulics.PalmLikeOrganism"><code>PalmLikeOrganism</code></a>, <a href="#PlantHydraulics.TreeLikeOrganism"><code>TreeLikeOrganism</code></a>, and     <a href="#PlantHydraulics.TreeSimple"><code>TreeSimple</code></a> structs subject to a <a href="#PlantHydraulics.AbstractPlantOrganism"><code>AbstractPlantOrganism</code></a>     type. The major difference between the <code>HS</code>s are</p><ul><li><a href="#PlantHydraulics.GrassLikeOrganism"><code>GrassLikeOrganism</code></a> has only mutiple root and canopy layers, no trunk   or branch</li><li><a href="#PlantHydraulics.PalmLikeOrganism"><code>PalmLikeOrganism</code></a> has multiple root layers, a trunk, and multiple   canopy layers, no branch system</li><li><a href="#PlantHydraulics.TreeLikeOrganism"><code>TreeLikeOrganism</code></a> has multiple root layers, a trunk, and multiple   branch + canopy layers, and each branch corresponds to a canopy layer</li><li><a href="#PlantHydraulics.TreeSimple"><code>TreeSimple</code></a> has one root, one stem, and one leaf for testing purpose</li></ul><p>See the documentation for each struct for more details:</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.AbstractPlantOrganism" href="#PlantHydraulics.AbstractPlantOrganism"><code>PlantHydraulics.AbstractPlantOrganism</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">abstract type AbstractPlantOrganism{FT}</code></pre><p>Hierachy of AbstractPlantOrganism</p><ul><li><a href="#PlantHydraulics.GrassLikeOrganism"><code>GrassLikeOrganism</code></a></li><li><a href="#PlantHydraulics.PalmLikeOrganism"><code>PalmLikeOrganism</code></a></li><li><a href="#PlantHydraulics.TreeLikeOrganism"><code>TreeLikeOrganism</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/types/plant.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.GrassLikeOrganism" href="#PlantHydraulics.GrassLikeOrganism"><code>PlantHydraulics.GrassLikeOrganism</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct GrassLikeOrganism{FT}</code></pre><p>A plant hydraulic system like a grass, which contains multiple root layers, and multiple canopy layers. No trunk or branch system applies.</p><p><strong>Fields</strong></p><ul><li><p><code>n_root</code></p><p>Root Layers</p></li><li><p><code>n_canopy</code></p><p>Canopy Layers</p></li><li><p><code>roots</code></p><p>Roots system</p></li><li><p><code>leaves</code></p><p>Leaves</p></li><li><p><code>root_index_in_soil</code></p><p>Corresponding soil layer per root layer</p></li><li><p><code>canopy_index_in_air</code></p><p>Corresponding air layer per canopy layer</p></li><li><p><code>cache_k</code></p><p>Conductances for each layer at given flow</p></li><li><p><code>cache_p</code></p><p>Pressure for each layer at given flow</p></li><li><p><code>cache_q</code></p><p>Flow rate</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/types/plant.jl#L19-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.PalmLikeOrganism" href="#PlantHydraulics.PalmLikeOrganism"><code>PlantHydraulics.PalmLikeOrganism</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct PalmLikeOrganism{FT}</code></pre><p>A plant hydraulic system like a palm, which contains multiple root layers, one trunk, and multiple canopy layers. No branch system applies.</p><p><strong>Fields</strong></p><ul><li><p><code>n_root</code></p><p>Root Layers</p></li><li><p><code>n_canopy</code></p><p>Canopy Layers</p></li><li><p><code>roots</code></p><p>Roots system</p></li><li><p><code>trunk</code></p><p>Trunk</p></li><li><p><code>leaves</code></p><p>Leaves</p></li><li><p><code>root_index_in_soil</code></p><p>Corresponding soil layer per root layer</p></li><li><p><code>canopy_index_in_air</code></p><p>Corresponding air layer per canopy layer</p></li><li><p><code>cache_k</code></p><p>Conductances for each layer at given flow</p></li><li><p><code>cache_p</code></p><p>Pressure for each layer at given flow</p></li><li><p><code>cache_q</code></p><p>Flow rate</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/types/plant.jl#L59-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.TreeLikeOrganism" href="#PlantHydraulics.TreeLikeOrganism"><code>PlantHydraulics.TreeLikeOrganism</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct TreeLikeOrganism{FT}</code></pre><p>A plant hydraulic system like a tree, which contains multiple root layers, one trunk, and multiple branch and canopy layers.</p><p><strong>Fields</strong></p><ul><li><p><code>n_root</code></p><p>Root Layers</p></li><li><p><code>n_canopy</code></p><p>Canopy Layers</p></li><li><p><code>roots</code></p><p>Roots system</p></li><li><p><code>trunk</code></p><p>Trunk</p></li><li><p><code>branch</code></p><p>Branch system</p></li><li><p><code>leaves</code></p><p>Leaves</p></li><li><p><code>root_index_in_soil</code></p><p>Corresponding soil layer per root layer</p></li><li><p><code>canopy_index_in_air</code></p><p>Corresponding air layer per canopy layer</p></li><li><p><code>cache_k</code></p><p>Conductances for each layer at given flow</p></li><li><p><code>cache_p</code></p><p>Pressure for each layer at given flow</p></li><li><p><code>cache_q</code></p><p>Flow rate</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/types/plant.jl#L101-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.TreeSimple" href="#PlantHydraulics.TreeSimple"><code>PlantHydraulics.TreeSimple</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct TreeSimple{FT}</code></pre><p>A plant hydraulic system with one root, one stem, and one leaf for testing     purpose</p><p><strong>Fields</strong></p><ul><li><p><code>root</code></p><p>Root</p></li><li><p><code>stem</code></p><p>Stem</p></li><li><p><code>leaf</code></p><p>Leaf</p></li><li><p><code>krs</code></p><p>Relative hydraulic conductance</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L8">source</a></section></article><p>To ease the initialization of a plant hydraulics system, a few customized     functions are provided for quick initialization. More importantly,     modifications to each field in the struct are always allowed. The quick     functions are <a href="#PlantHydraulics.create_grass"><code>create_grass</code></a>, <a href="#PlantHydraulics.create_palm"><code>create_palm</code></a>, and     <a href="#PlantHydraulics.create_tree"><code>create_tree</code></a>:</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.create_grass" href="#PlantHydraulics.create_grass"><code>PlantHydraulics.create_grass</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_grass(
            z_root::FT,
            z_canopy::FT,
            soil_bounds::Array{FT,1},
            air_bounds::Array{FT,1}
) where {FT&lt;:AbstractFloat}</code></pre><p>Create a <a href="#PlantHydraulics.GrassLikeOrganism"><code>GrassLikeOrganism</code></a>, given</p><ul><li><code>z_root</code> Maximal root depth (negative value)</li><li><code>z_canopy</code> Maximal canopy height (positive value)</li><li><code>soil_bounds</code> Array of soil layer boundaries starting from 0</li><li><code>air_bounds</code> Array of air layer boundaries starting from 0</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/initialize/plant.jl#L6-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.create_palm" href="#PlantHydraulics.create_palm"><code>PlantHydraulics.create_palm</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_palm(z_root::FT,
            z_trunk::FT,
            z_canopy::FT,
            soil_bounds::Array{FT,1},
            air_bounds::Array{FT,1}
) where {FT&lt;:AbstractFloat}</code></pre><p>Create a <a href="#PlantHydraulics.PalmLikeOrganism"><code>PalmLikeOrganism</code></a>, given</p><ul><li><code>z_root</code> Maximal root depth (negative value)</li><li><code>z_trunk</code> Maximal trunk height (positive value)</li><li><code>z_canopy</code> Maximal canopy height (positive value)</li><li><code>soil_bounds</code> Array of soil layer boundaries starting from 0</li><li><code>air_bounds</code> Array of air layer boundaries starting from 0</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/initialize/plant.jl#L81-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.create_tree" href="#PlantHydraulics.create_tree"><code>PlantHydraulics.create_tree</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_tree(z_root::FT,
            z_trunk::FT,
            z_canopy::FT,
            soil_bounds::Array{FT,1},
            air_bounds::Array{FT,1}
) where {FT&lt;:AbstractFloat}</code></pre><p>Create a <a href="#PlantHydraulics.TreeLikeOrganism"><code>TreeLikeOrganism</code></a>, given</p><ul><li><code>z_root</code> Maximal root depth (negative value)</li><li><code>z_trunk</code> Maximal trunk height (positive value)</li><li><code>z_canopy</code> Maximal canopy height (positive value)</li><li><code>soil_bounds</code> Array of soil layer boundaries starting from 0</li><li><code>air_bounds</code> Array of air layer boundaries starting from 0</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/initialize/plant.jl#L176-L190">source</a></section></article><p>What these functions do are to determine how many root layers and branch/canopy     layers to add based on the tree information and environmental settings. To     determine number of root layers, rooting depth and the soil layer     information are required. The <code>z_root</code> is the maximal root depth in     negative number, and <code>soil_bounds</code> is the boundaries of soil layers staring     from 0. For example, for a <code>soil_bounds</code> of [0.0, -1.0, -2.0, -3.0, -4.0],     a <code>z_root</code> of -1 gives 1 root layer, and a <code>z_root</code> of -1.5 or -2.0 gives 2     root layers. The <code>z_trunk</code>, <code>z_canopy</code>, and <code>air_bounds</code> determine how many     canopy layers to add. For example, for a <code>air_bounds</code> of [0.0, 1.0, 2.0,     3.0, 4.0, 5.0 ... 20.0, 21.0, 22.0], a <code>z_trunk</code> of 5.0 <code>z_canopy</code> of 7.0     give 2 canopy layers, and a <code>z_trunk</code> of 5.5 <code>z_canopy</code> of 7.0 give 2     canopy layers. Also, the <code>root_index_in_soil</code> and <code>canopy_index_in_air</code>     indicate which soil or air layer the root or canopy layer corresponds with,     respectively. For instance, a index of 7 means that the canopy layer should     use the 7th air layer.</p><p>To initialize a whole-plant hydraulic system, checkout the example below:</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
grass = create_grass(FT(-2.1), FT(0.5), FT(8), FT[0,-1,-2,-3], collect(FT,0:1:20));
palm  =  create_palm(FT(-2.1), FT(0.5), FT(8), FT[0,-1,-2,-3], collect(FT,0:1:20));
tree  =  create_tree(FT(-2.1), FT(0.5), FT(8), FT[0,-1,-2,-3], collect(FT,0:1:20));
treet = TreeSimple{FT}();</code></pre><h2 id="Xylem-hydraulic-conductance"><a class="docs-heading-anchor" href="#Xylem-hydraulic-conductance">Xylem hydraulic conductance</a><a id="Xylem-hydraulic-conductance-1"></a><a class="docs-heading-anchor-permalink" href="#Xylem-hydraulic-conductance" title="Permalink"></a></h2><p>Plants transport water through xylem conduits (vessels in most angiosperms,     trachieds in most gymnosperms). With the ascent of sap along the hydraulic     system, water pressure in the conduits is typically negative. The negative     xylem water pressure tends to pull air from surrounding tisses or the     atmosphere into the xylem conduits, resulting in xylem cavitation. The air     bubbles in cavitated conduits block water flow, and thus results in decline     of water transport capability (measured by xylem hydraulic conductance).</p><p>Typically, the correlation between xylem water pressure (<span>$P \leq 0$</span>) and     hydraulic conductance (<span>$k$</span>) is expressed by a Weibull function for     <a href="#PlantHydraulics.WeibullSingle"><code>WeibullSingle</code></a> type correlation:</p><p class="math-container">\[k = k_\text{max} \cdot \exp \left( -\left( \dfrac{-P}{B} \right)^C \right)\]</p><p>where <span>$k_\text{max}$</span> is the maximal hydraulic conductance, and <span>$B$</span> and <span>$C$</span> are     the Weibull parameters. This correlation is also known as vulnerability     curve (VC) to drought stress. Sometimes, plants exhibit a segmented VC, for     example, the fibers may transport water as well and are much more resistant     to drought than vessels. Thus, a dual Weibull function is presented for     <a href="#PlantHydraulics.WeibullDual"><code>WeibullDual</code></a> type correlation (<span>$P \leq 0$</span>):</p><p class="math-container">\[k = k_\text{max} \cdot \left\{ f_1 \cdot \exp \left[ -\left( \dfrac{-P}{B_1} \right)^{C_1} \right] +
                         (1 - f_1) \cdot \exp \left[ -\left( \dfrac{-P}{B_2} \right)^{C_2} \right] \right\}\]</p><p>The VC formulations are abstractized as</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.AbstractXylemVC" href="#PlantHydraulics.AbstractXylemVC"><code>PlantHydraulics.AbstractXylemVC</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">abstract type AbstractXylemVC{FT}</code></pre><p>Hierachy of AbstractXylemVC</p><ul><li><a href="#PlantHydraulics.WeibullSingle"><code>WeibullSingle</code></a></li><li><a href="#PlantHydraulics.WeibullDual"><code>WeibullDual</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/types/curves.jl#L66-L72">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.WeibullDual" href="#PlantHydraulics.WeibullDual"><code>PlantHydraulics.WeibullDual</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct WeibullDual{FT}</code></pre><p>Struct that contains dual Weibull function parameters.</p><p><strong>Fields</strong></p><ul><li><p><code>b1</code></p><p>B of first part <code>[MPa]</code></p></li><li><p><code>c1</code></p><p>C of first part</p></li><li><p><code>f1</code></p><p>F of first part</p></li><li><p><code>b2</code></p><p>B of second part <code>[MPa]</code></p></li><li><p><code>c2</code></p><p>C of second part</p></li><li><p><code>f2</code></p><p>F of second part</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.WeibullSingle" href="#PlantHydraulics.WeibullSingle"><code>PlantHydraulics.WeibullSingle</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct WeibullSingle{FT}</code></pre><p>Struct that contains single Weibull function parameters.</p><p><strong>Fields</strong></p><ul><li><p><code>b</code></p><p>B of first part <code>[MPa]</code></p></li><li><p><code>c</code></p><p>C of first part</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><p>The function to call is</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.xylem_k_ratio" href="#PlantHydraulics.xylem_k_ratio"><code>PlantHydraulics.xylem_k_ratio</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">xylem_k_ratio(
            vc::AbstractXylemVC{FT},
            p_25::FT,
            vis::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Returns the relative hydraulic conductance, given</p><ul><li><code>vc</code> Xylem vulnerability curve</li><li><code>p</code> Xylem pressure at 298.15 K in <code>[MPa]</code></li><li><code>p_25</code> Equivalent xylem pressure at 298.15 K in <code>[MPa]</code></li><li><code>vis</code> Relative viscosity. If missing, vis = 1.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/xylem.jl#L6-L18">source</a></section></article><p>Note it here that <code>xylem_k_ratio(vc, p)</code> calculate the k without making     temperature corrections, but the <code>xylem_k_ratio(vc, p_25, vis)</code> makes     correction over the viscosity (the higher the viscosity, the lower the k).     Also, <code>p_25</code> means that the pressure has been corrected to 298.15 K for     surface tension (the higher the surface tension, the more resistant the     xylem).</p><p>Meanwhile, there is a function to call to calculate the critical pressure,     beyond which leaf will decicate. The critical pressure is calculated as the     pressure at which <span>$k$</span> is 0.001 of <span>$k_\text{max}$</span> for     <a href="#PlantHydraulics.WeibullSingle"><code>WeibullSingle</code></a> (for <a href="#PlantHydraulics.WeibullDual"><code>WeibullDual</code></a>, each segment need to     reach 0.001). The functions is</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.xylem_p_crit" href="#PlantHydraulics.xylem_p_crit"><code>PlantHydraulics.xylem_p_crit</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">xylem_p_crit(vc::AbstractXylemVC{FT}, f_st::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Returns the relative hydraulic conductance, given</p><ul><li><code>vc</code> Xylem vulnerability curve</li><li><code>st</code> Relative surface tension. If missing, vis = 1.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/xylem.jl#L68-L74">source</a></section></article><p>Examples:</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
vc_1 = WeibullSingle{FT}();
vc_2 = WeibullDual{FT}();

k_1 = xylem_k_ratio(vc_1, -1.0);
k_2 = xylem_k_ratio(vc_2, -1.0);
k_3 = xylem_k_ratio(vc_1, -1.0, 1.2);
k_4 = xylem_k_ratio(vc_2, -1.0, 1.2);</code></pre><h2 id="Rhizosphere-hydraulic-conductance"><a class="docs-heading-anchor" href="#Rhizosphere-hydraulic-conductance">Rhizosphere hydraulic conductance</a><a id="Rhizosphere-hydraulic-conductance-1"></a><a class="docs-heading-anchor-permalink" href="#Rhizosphere-hydraulic-conductance" title="Permalink"></a></h2><p>As mentioned above, there is a rhizosphere component in the root hydraulic     system, and thus one needs to compute the pressure dtop along the     rhizosphere. The soil properties are classified to <a href="#PlantHydraulics.BrooksCorey"><code>BrooksCorey</code></a>     and <a href="#PlantHydraulics.VanGenuchten"><code>VanGenuchten</code></a> types subjected to <a href="#PlantHydraulics.AbstractSoilVC"><code>AbstractSoilVC</code></a>:</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.AbstractSoilVC" href="#PlantHydraulics.AbstractSoilVC"><code>PlantHydraulics.AbstractSoilVC</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">abstract type AbstractSoilVC{FT}</code></pre><p>Hierachy of AbstractSoilVC:</p><ul><li><a href="#PlantHydraulics.BrooksCorey"><code>BrooksCorey</code></a></li><li><a href="#PlantHydraulics.VanGenuchten"><code>VanGenuchten</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/types/curves.jl#L131-L137">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.BrooksCorey" href="#PlantHydraulics.BrooksCorey"><code>PlantHydraulics.BrooksCorey</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct BrooksCorey{FT&lt;:AbstractFloat}</code></pre><p>Brooks Corey soil parameters</p><p><strong>Fields</strong></p><ul><li><p><code>stype</code></p><p>Soil type</p></li><li><p><code>b</code></p><p>Soil b</p></li><li><p><code>ϕs</code></p><p>ϕ at saturation <code>[MPa]</code></p></li><li><p><code>Θs</code></p><p>Soil water content (Θ) at saturation</p></li><li><p><code>Θr</code></p><p>Residual soil water content</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.VanGenuchten" href="#PlantHydraulics.VanGenuchten"><code>PlantHydraulics.VanGenuchten</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct VanGenuchten{FT&lt;:AbstractFloat}</code></pre><p>Van Gunechten soil parameters</p><p><strong>Fields</strong></p><ul><li><p><code>stype</code></p><p>Soil type</p></li><li><p><code>α</code></p><p>Soil α is related to the inverse of the air entry suction, α &gt; 0</p></li><li><p><code>n</code></p><p>Soil n is Measure of the pore-size distribution</p></li><li><p><code>m</code></p><p>Soil m = 1 - 1/n</p></li><li><p><code>Θs</code></p><p>Soil water content (Θ) at saturation</p></li><li><p><code>Θr</code></p><p>Residual soil water content</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><p>Pre-defined parameter sets are avialble, and you may quick create a soil type     struct using <a href="#PlantHydraulics.create_soil_VC"><code>create_soil_VC</code></a>. Note that soil type parameters are     van Genuchten type VC, and we curve fitted the curve to provide the     parameters for Brooks and Corey type VC.</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.create_soil_VC" href="#PlantHydraulics.create_soil_VC"><code>PlantHydraulics.create_soil_VC</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_soil_VC(
            vc::AbstractSoilVC{FT},
            name::String,
            α::Number,
            n::Number,
            Θs::Number,
            Θr::Number
) where {FT&lt;:AbstractFloat}
create_soil_VC(
            vc::AbstractSoilVC{FT},
            name::String
) where {FT&lt;:AbstractFloat}</code></pre><p>Create a <a href="#PlantHydraulics.AbstractSoilVC"><code>AbstractSoilVC</code></a> type of soil VC, given</p><ul><li><code>vc</code> <a href="#PlantHydraulics.AbstractSoilVC"><code>AbstractSoilVC</code></a> type identifier</li><li><code>name</code> Soil type name. Supported names include<ul><li>&quot;Sand&quot;</li><li>&quot;Loamy Sand&quot;</li><li>&quot;Sandy Loam&quot;</li><li>&quot;Loam&quot;</li><li>&quot;Sandy Clay Loam&quot;</li><li>&quot;Silt Loam&quot;</li><li>&quot;Silt&quot;</li><li>&quot;Clay Loam&quot;</li><li>&quot;Silty Clay Loam&quot;</li><li>&quot;Sandy Clay&quot;</li><li>&quot;Silty Clay&quot;</li><li>&quot;Clay&quot;</li></ul></li><li><code>α</code> Soil α</li><li><code>n</code> Soil n</li><li><code>Θs</code> SWC at saturation</li><li><code>Θr</code> Residual SWC</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/initialize/soil.jl#L6-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.fit_soil_VC!" href="#PlantHydraulics.fit_soil_VC!"><code>PlantHydraulics.fit_soil_VC!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">fit_soil_VC!(
            vc_vG::VanGenuchten{FT},
            vc_BC::BrooksCorey{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Update BrooksCorey setup from known VanGenuchten parameters, given</p><ul><li><code>vc_vG</code> <a href="#PlantHydraulics.VanGenuchten"><code>VanGenuchten</code></a> type soil VC</li><li><code>vc_BC</code> <a href="#PlantHydraulics.BrooksCorey"><code>BrooksCorey</code></a> type soil VC</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/soil.jl#L395-L404">source</a></section></article><p>Correlations among soil relative water content, relative hydraulic conductance,     and soil matrix potential are</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.soil_erwc" href="#PlantHydraulics.soil_erwc"><code>PlantHydraulics.soil_erwc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">soil_erwc(sh::AbstractSoilVC{FT}, p_25::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Returns the Effective relative water content of the soil     <span>$\frac{Θ - Θr}{Θs - Θr}$</span>, given</p><ul><li><code>sh</code> <a href="#PlantHydraulics.BrooksCorey"><code>BrooksCorey</code></a> or <a href="#PlantHydraulics.VanGenuchten"><code>VanGenuchten</code></a> type soil hydraulics</li><li><code>p_25</code> Matrix water potential equivalent to 25 degree C, with surface tension</li></ul><p>correction</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/soil.jl#L6-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.soil_rwc" href="#PlantHydraulics.soil_rwc"><code>PlantHydraulics.soil_rwc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">soil_rwc(sh::AbstractSoilVC{FT}, p_25::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Returns the relative soil water content, given</p><ul><li><code>sh</code> <a href="#PlantHydraulics.BrooksCorey"><code>BrooksCorey</code></a> or <a href="#PlantHydraulics.VanGenuchten"><code>VanGenuchten</code></a> type soil hydraulics</li><li><code>p_25</code> Matrix water potential equivalent to 25 degree C, with surface tension</li></ul><p>correction</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/soil.jl#L47-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.soil_swc" href="#PlantHydraulics.soil_swc"><code>PlantHydraulics.soil_swc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">soil_swc(sh::AbstractSoilVC{FT}, p_25::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Returns the soil water content, given</p><ul><li><code>sh</code> <a href="#PlantHydraulics.BrooksCorey"><code>BrooksCorey</code></a> or <a href="#PlantHydraulics.VanGenuchten"><code>VanGenuchten</code></a> type soil hydraulics</li><li><code>p_25</code> Matrix water potential equivalent to 25 degree C, with surface tension</li></ul><p>correction</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/soil.jl#L79-L86">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.soil_k_ratio_erwc" href="#PlantHydraulics.soil_k_ratio_erwc"><code>PlantHydraulics.soil_k_ratio_erwc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">soil_k_ratio_erwc(
            sh::AbstractSoilVC{FT},
            erwc::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the soil k relative to maximal k, given</p><ul><li><code>sh</code> <a href="#PlantHydraulics.BrooksCorey"><code>BrooksCorey</code></a> or <a href="#PlantHydraulics.VanGenuchten"><code>VanGenuchten</code></a> type soil hydraulics</li><li><code>erwc</code> Effective relative soil water content (<span>$\frac{Θs - Θr}{Θs - Θ}$</span>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/soil.jl#L120-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.soil_k_ratio_rwc" href="#PlantHydraulics.soil_k_ratio_rwc"><code>PlantHydraulics.soil_k_ratio_rwc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">soil_k_ratio_rwc(sh::AbstractSoilVC{FT}, rwc::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Return the soil k relative to maximal k, given</p><ul><li><code>sh</code> <a href="#PlantHydraulics.BrooksCorey"><code>BrooksCorey</code></a> or <a href="#PlantHydraulics.VanGenuchten"><code>VanGenuchten</code></a> type soil hydraulics</li><li><code>rwc</code> Relative soil water content</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/soil.jl#L155-L161">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.soil_k_ratio_swc" href="#PlantHydraulics.soil_k_ratio_swc"><code>PlantHydraulics.soil_k_ratio_swc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">soil_k_ratio_swc(sh::AbstractSoilVC{FT}, swc::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Return the soil k relative to maximal k, given</p><ul><li><code>sh</code> <a href="#PlantHydraulics.BrooksCorey"><code>BrooksCorey</code></a> or <a href="#PlantHydraulics.VanGenuchten"><code>VanGenuchten</code></a> type soil hydraulics</li><li><code>swc</code> Relative soil water content</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/soil.jl#L190-L196">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.soil_k_ratio_p25" href="#PlantHydraulics.soil_k_ratio_p25"><code>PlantHydraulics.soil_k_ratio_p25</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">soil_k_ratio_p25(
            sh::AbstractSoilVC{FT},
            p_25::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the soil k relative to maximal k, given</p><ul><li><code>sh</code> <a href="#PlantHydraulics.AbstractSoilVC"><code>AbstractSoilVC</code></a> type soil hydraulics</li><li><code>p_25</code> Matrix water potential equivalent to 25 degree C, with surface tension</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/soil.jl#L234-L243">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.soil_p_25_erwc" href="#PlantHydraulics.soil_p_25_erwc"><code>PlantHydraulics.soil_p_25_erwc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">soil_p_25_erwc(sh::AbstractSoilVC{FT}, erwc::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Returns the Relative water content of the soil, given</p><ul><li><code>sh</code> <a href="#PlantHydraulics.BrooksCorey"><code>BrooksCorey</code></a> or <a href="#PlantHydraulics.VanGenuchten"><code>VanGenuchten</code></a> type soil hydraulics</li><li><code>erwc</code> Effectibe relative soil water content (<span>$\frac{Θs - Θr}{Θs - Θ}$</span>)</li></ul><p>Note that this function returns the matrix potential of water, not water potential. Also, the potential is that at 25 degree C, not yet been corrected for temperature effect on surface tension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/soil.jl#L265-L275">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.soil_p_25_rwc" href="#PlantHydraulics.soil_p_25_rwc"><code>PlantHydraulics.soil_p_25_rwc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">soil_p_25_rwc(sh::AbstractSoilVC{FT}, rwc::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Returns the Relative water content of the soil, given</p><ul><li><code>sh</code> <a href="#PlantHydraulics.BrooksCorey"><code>BrooksCorey</code></a> or <a href="#PlantHydraulics.VanGenuchten"><code>VanGenuchten</code></a> type soil hydraulics</li><li><code>rwc</code> Relative soil water content</li></ul><p>Note that this function returns the matrix potential of water, not water potential. Also, the potential is that at 25 degree C, not yet been corrected for temperature effect on surface tension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/soil.jl#L308-L318">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.soil_p_25_swc" href="#PlantHydraulics.soil_p_25_swc"><code>PlantHydraulics.soil_p_25_swc</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">soil_p_25_swc(sh::AbstractSoilVC{FT}, rwc::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Returns the Relative water content of the soil, given</p><ul><li><code>sh</code> <a href="#PlantHydraulics.BrooksCorey"><code>BrooksCorey</code></a> or <a href="#PlantHydraulics.VanGenuchten"><code>VanGenuchten</code></a> type soil hydraulics</li><li><code>swc</code> Soil water content</li></ul><p>Note that this function returns the matrix potential of water, not water potential. Also, the potential is that at 25 degree C, not yet been corrected for temperature effect on surface tension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/soil.jl#L347-L357">source</a></section></article><h2 id="Pressure-and-Flow"><a class="docs-heading-anchor" href="#Pressure-and-Flow">Pressure and Flow</a><a id="Pressure-and-Flow-1"></a><a class="docs-heading-anchor-permalink" href="#Pressure-and-Flow" title="Permalink"></a></h2><p>The PlantHydraulics module is designed to run numerically for the following     reasons:</p><ul><li>Weibull function is cannot be integrated</li><li>The VC is segmented, i.e., if <span>$P &gt; 0$</span>, <span>$k = k_\text{max}$</span> (implemented in   <a href="#PlantHydraulics.xylem_k_ratio"><code>xylem_k_ratio</code></a>)</li><li>Once xylem cavitation occurs, it cannot be easily recovered unless <span>$P &gt; 0$</span>,   and thus there is a drought legacy effect. This is why there are a few   fields in the <a href="#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a>, <a href="#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a>, and   <a href="#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a> structs to store the drought history information.</li><li>Temperature may change along the flow path. The <code>f_st</code> and <code>f_vis</code> in the   structs help deal with these effects.</li></ul><p>Function <a href="#PlantHydraulics.end_pressure"><code>end_pressure</code></a> calculates the xylem end pressure for an     organ-level hysraulic system. As mentioned above, the     <a href="#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> and <a href="#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a> has a gravity     component, and the <a href="#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> has a rhizosphere component.     Also be aware that <a href="#PlantHydraulics.end_pressure"><code>end_pressure</code></a> accounts for temperature     effects on surface tension and viscosity.</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.end_pressure" href="#PlantHydraulics.end_pressure"><code>PlantHydraulics.end_pressure</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">end_pressure(
            leaf::LeafHydraulics{FT},
            flow::FT
) where {FT&lt;:AbstractFloat}
end_pressure(
            root::RootHydraulics{FT},
            flow::FT
) where {FT&lt;:AbstractFloat}
end_pressure(
            stem::StemHydraulics{FT},
            flow::FT
) where {FT&lt;:AbstractFloat}
end_pressure(
            tree::TreeSimple{FT},
            flow::FT
) where {FT&lt;:AbstractFloat}
end_pressure(
            tree::TreeSimple{FT},
            f_sl::FT,
            f_sh::FT,
            r_sl::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Return the xylen end pressure(s) from flow rate(s), given</p><ul><li><code>leaf</code> <a href="#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> type struct</li><li><code>flow</code> Flow rate (per leaf area for <a href="#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a>)</li><li><code>root</code> <a href="#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> type struct</li><li><code>stem</code> <a href="#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a> type struct</li><li><code>tree</code> <a href="#PlantHydraulics.TreeSimple"><code>TreeSimple</code></a> type struct</li><li><code>f_sl</code> Flow rate to sunlit leaves</li><li><code>f_sh</code> Flow rate to shaded leaves</li><li><code>r_sl</code> Fraction of sunlit leaves</li></ul><p>Note, gravity is accounted for in root and stem; rhizosphere conductance is     accounted for in root; extra-xylary conductance is not accounted for in     leaf here because it calculates xylem end pressure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/hydraulics/pressure.jl#L6-L43">source</a></section></article><p>Noe that function <a href="#PlantHydraulics.end_pressure"><code>end_pressure</code></a> does not update the pressure     profiles or history in the xylem. To update these profiles, use     <a href="#PlantHydraulics.pressure_profile!"><code>pressure_profile!</code></a>, and to remove these legacy profiles, use     <a href="#PlantHydraulics.inititialize_legacy!"><code>inititialize_legacy!</code></a>:</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.pressure_profile!" href="#PlantHydraulics.pressure_profile!"><code>PlantHydraulics.pressure_profile!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">pressure_profile!(
            leaf::LeafHydraulics{FT},
            flow::FT;
            update::Bool = true
) where {FT&lt;:AbstractFloat}
pressure_profile!(
            root::RootHydraulics{FT},
            flow::FT;
            update::Bool = true
) where {FT&lt;:AbstractFloat}
pressure_profile!(
            root::RootHydraulics{FT},
            q_in::FT,
            flow::Array{FT,1};
            update::Bool = true
) where {FT&lt;:AbstractFloat}
pressure_profile!(
            stem::StemHydraulics{FT},
            flow::FT;
            update::Bool = true
) where {FT&lt;:AbstractFloat}
pressure_profile!(
            stem::StemHydraulics{FT},
            flow::Array{FT,1};
            update::Bool = true
) where {FT&lt;:AbstractFloat}
pressure_profile!(
            tree::TreeSimple{FT},
            p_soil::FT,
            flow::FT;
            update::Bool = true
) where {FT&lt;:AbstractFloat}
pressure_profile!(
            tree::TreeSimple{FT},
            p_soil::FT,
            f_sl::FT,
            f_sh::FT,
            r_sl::FT;
            update::Bool = true
) where {FT&lt;:AbstractFloat}</code></pre><p>Update the pressure profile, given</p><ul><li><code>leaf</code> <a href="#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> type struct</li><li><code>root</code> <a href="#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> type struct</li><li><code>stem</code> <a href="#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a> type struct</li><li><code>tree</code> <a href="#PlantHydraulics.TreeSimple"><code>TreeSimple</code></a> type struct</li><li><code>p_soil</code> Soil water potential</li><li><code>flow</code> Flow rate (per leaf area for <a href="#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a>)</li><li><code>f_sl</code> Flow rate to sunlit leaves</li><li><code>f_sh</code> Flow rate to shaded leaves</li><li><code>r_sl</code> Fraction of sunlit leaves</li><li><code>update</code> Optional. If true, update drought legacy. Default is <code>true</code> for   <a href="#PlantHydraulics.TreeSimple"><code>TreeSimple</code></a> but <code>false</code> for others using capacitance</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/hydraulics/pressure.jl#L190-L244">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.inititialize_legacy!" href="#PlantHydraulics.inititialize_legacy!"><code>PlantHydraulics.inititialize_legacy!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">inititialize_legacy!(
            hs::Union{LeafHydraulics,RootHydraulics,StemHydraulics})
inititialize_legacy!(tree::GrassLikeOrganism)
inititialize_legacy!(tree::PalmLikeOrganism)
inititialize_legacy!(tree::TreeLikeOrganism)
inititialize_legacy!(tree::TreeSimple)</code></pre><p>Initialize the drought legacy effects in the xylem, given</p><ul><li><code>hs</code> [<code>AbstractHydraulicOrgan</code>] type struct</li><li><code>tree</code> <a href="#PlantHydraulics.TreeSimple"><code>TreeSimple</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/initialize/legacy.jl#L6-L17">source</a></section></article><p>Examples:</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
leaf = LeafHydraulics{FT}();
p = end_pressure(leaf, FT(0.01));
@show leaf.p_element;
pressure_profile!(leaf, FT(0.01));
@show leaf.p_element;</code></pre><h2 id="Steady-state-and-non-steady-state-mode"><a class="docs-heading-anchor" href="#Steady-state-and-non-steady-state-mode">Steady state and non-steady state mode</a><a id="Steady-state-and-non-steady-state-mode-1"></a><a class="docs-heading-anchor-permalink" href="#Steady-state-and-non-steady-state-mode" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.AbstractFlowMode" href="#PlantHydraulics.AbstractFlowMode"><code>PlantHydraulics.AbstractFlowMode</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">abstract type AbstractFlowMode</code></pre><p>Hierarchy of AbstractFlowMode</p><ul><li><a href="#PlantHydraulics.SteadyStateMode"><code>SteadyStateMode</code></a></li><li><a href="#PlantHydraulics.NonSteadyStateMode"><code>NonSteadyStateMode</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/types/flow.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.NonSteadyStateMode" href="#PlantHydraulics.NonSteadyStateMode"><code>PlantHydraulics.NonSteadyStateMode</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct NonSteadyStateMode &lt;: AbstractFlowMode</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/types/flow.jl#L26-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.SteadyStateMode" href="#PlantHydraulics.SteadyStateMode"><code>PlantHydraulics.SteadyStateMode</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct SteadyStateMode &lt;: AbstractFlowMode</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/types/flow.jl#L18-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.buffer_rate" href="#PlantHydraulics.buffer_rate"><code>PlantHydraulics.buffer_rate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">buffer_rate(pv::AbstractCapacity{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>Return the buffer rate, given</p><ul><li><code>pv</code> <a href="#PlantHydraulics.AbstractCapacity"><code>AbstractCapacity</code></a> type struct</li></ul><p>Note that only symplastic water can be used as capacitance</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/hydraulics/flow.jl#L6-L13">source</a></section></article><h2 id="Root-Hydraulics"><a class="docs-heading-anchor" href="#Root-Hydraulics">Root Hydraulics</a><a id="Root-Hydraulics-1"></a><a class="docs-heading-anchor-permalink" href="#Root-Hydraulics" title="Permalink"></a></h2><p>Function <a href="#PlantHydraulics.end_pressure"><code>end_pressure</code></a> works for the case of only 1 root layer if     one needs the plant base xylem water pressure. However, when there are     multiple root layers, <a href="#PlantHydraulics.end_pressure"><code>end_pressure</code></a> does not apply. In this     case, iterations are required to calculate the xylem end pressure for each     root layers, and then make sure all root layers have the same xylem end     pressure. A few functions are provided to realize this.</p><p>Function <a href="#PlantHydraulics.xylem_flow"><code>xylem_flow</code></a> uses Root Solving method to calculate     the flow rate through the <a href="#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> struct that yields the     given xylem end pressure. The <code>ini</code> in the function is optional. However,     using the flow rate from last instant when pressure does not differ much     will speed up the calculation.</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.xylem_flow" href="#PlantHydraulics.xylem_flow"><code>PlantHydraulics.xylem_flow</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">xylem_flow(root::RootHydraulics{FT},
           pressure::FT,
           ini::FT = FT(1)
) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate the flow rate from a given tree base pressure, given</p><ul><li><code>root</code> <a href="#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> type struct</li><li><code>pressure</code> Given tree base pressure in <code>[MPa]</code></li><li><code>ini</code> Initial guess</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/hydraulics/flow.jl#L234-L244">source</a></section></article><p>In the plant hydraulic module design, flow rate is computed for each canopy     layer, and thus computing flow rate for each root layer is required for a     multiple layered root system. One feasible way is to do iterations using     <a href="#PlantHydraulics.xylem_flow"><code>xylem_flow</code></a> function, i.e., iterate the xylem end     pressure til the total flow rate equals the given value. However, this     method is too inefficient. What I did is</p><ul><li>Calculate the xylem end pressure and whole root layer conductance from the   initial flow rate;</li><li>Calculate the mean xylem end pressure, and tune the flow rates in all root   layers using the difference from mean pressure and root conductance;</li><li>Sum up the new flow rates, and calculate the difference with given total flow   rate;</li><li>Use the calculated condutcance to weight out the differences.</li></ul><p>The functions provided by PlantHydraulics module are</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.root_pk" href="#PlantHydraulics.root_pk"><code>PlantHydraulics.root_pk</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">root_pk(root::RootHydraulics{FT},
        flow::FT
) where {FT&lt;:AbstractFloat}
root_pk(root::RootHydraulics{FT},
        q_in::FT,
        flow::Array{FT,1}
) where {FT&lt;:AbstractFloat}</code></pre><p>Return root xylem end pressure and root hydraulic conductance (reverse of     summed resistance), given</p><ul><li><code>root</code> <a href="#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> struct</li><li><code>flow</code> Given flow rate(s) in the root layer, array for non-steady state with   capacitance enabled</li><li><code>q_in</code> Flow rate into the root</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/hydraulics/conductance.jl#L58-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.roots_flow!" href="#PlantHydraulics.roots_flow!"><code>PlantHydraulics.roots_flow!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">roots_flow!(roots::Array{RootHydraulics{FT},1},
            ks::Array{FT,1},
            ps::Array{FT,1},
            qs::Array{FT,1},
            flow::FT,
            recalculate::Bool
) where {FT&lt;:AbstractFloat}
roots_flow!(roots::Array{RootHydraulics{FT},1},
            ks::Array{FT,1},
            ps::Array{FT,1},
            qs::Array{FT,1},
            flow::FT
) where {FT&lt;:AbstractFloat}
roots_flow!(plant::Union{GrassLikeOrganism{FT},
                         PalmLikeOrganism{FT},
                         TreeLikeOrganism{FT}},
            flow::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Recalculate the flow rates in the root from the pressure and conductance     profiles in each root at non-steady state, given</p><ul><li><code>roots</code> Array of <a href="#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> structs</li><li><code>ks</code> Container for conductance in each root layer</li><li><code>ps</code> Container for end xylem pressure in each layer</li><li><code>qs</code> Container for flow rate out of each layer</li><li><code>flow</code> Total flow rate out of the roots</li><li><code>recalculate</code> A paceholder indicator of recalculating root flow (useless)</li><li><code>plant</code> <a href="#PlantHydraulics.AbstractPlantOrganism"><code>AbstractPlantOrganism</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/hydraulics/flow.jl#L114-L143">source</a></section></article><p>However, the steps above are only 1 iteration, and can only be used for the     non-steady state version of model. For the steady-state flow rates,     function <a href="#PlantHydraulics.roots_flow!"><code>roots_flow!</code></a> does thw work. What the function does is to     iterate <a href="#PlantHydraulics.roots_flow!"><code>roots_flow!</code></a> till the difference among the     calculated end pressures is small enough. I also emphasize that to speed up     the code, 3 containers are added to the <a href="#PlantHydraulics.AbstractPlantOrganism"><code>AbstractPlantOrganism</code></a>     structs, and they are <code>cache_k</code>, <code>cache_p</code>, and <code>cache_q</code>.</p><p>Example:</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
palm = create_palm(FT(-2.1), FT(0.5), FT(8), FT[0,-1,-2,-3], collect(FT,0:1:20));
roots_flow!(palm.roots, palm.cache_k, palm.cache_p, palm.cache_q, FT(1));</code></pre><h2 id="Leaf-Hydraulics"><a class="docs-heading-anchor" href="#Leaf-Hydraulics">Leaf Hydraulics</a><a id="Leaf-Hydraulics-1"></a><a class="docs-heading-anchor-permalink" href="#Leaf-Hydraulics" title="Permalink"></a></h2><p>The stomatal models often require plant hydraulics either as a correction     factor (in empirical stomatal models) or as the risk term (in optimal     stomatal models). To facilitate the calculations, a few specific functions     are provided.</p><p>Function <a href="#PlantHydraulics.xylem_risk"><code>xylem_risk</code></a> returns the risk in xylem hydraulic function     based on the most downstream end of the xylem. The risk of plant hydraulic     system is not only on current system, but also potential new growth (plants     don&#39;t want to risk new growth either). Thus, function     <a href="#PlantHydraulics.xylem_risk"><code>xylem_risk</code></a> evaluates the risk from the xylem pressure     calculated from current system (with drought history), and then compute the     risk from the pressure (the severer the srought history, the higher the     risk):</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.xylem_risk" href="#PlantHydraulics.xylem_risk"><code>PlantHydraulics.xylem_risk</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">xylem_risk(hs::LeafHydraulics{FT}, flow::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Evaluate the hydraulic risk at the end of leaf xylem, given</p><ul><li><code>hs</code> <a href="#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> type struct</li><li><code>flow</code> Flow rate (per leaf area)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/hydraulics/conductance.jl#L175-L181">source</a></section></article><p>Note that function <a href="#PlantHydraulics.xylem_risk"><code>xylem_risk</code></a> can work on its own without having     other organ-level components. For example, by changing the <code>p_ups</code> of a     <a href="#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a>, one can simulate the case of drought without     caring about other hydraulic systems. Same for function     <a href="#PlantHydraulics.critical_flow"><code>critical_flow</code></a> below. However, these functions are only useful for     sensitivity analysis or when <code>p_ups</code> in the <a href="#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> is     accurate.</p><p>Examples</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
leaf = LeafHydraulics{FT}();
risk = xylem_risk(leaf, FT(0.01));
@show risk;
leaf.p_ups = FT(-1.0);
risk = xylem_risk(leaf, FT(0.01));
@show risk;</code></pre><p>Function <a href="#PlantHydraulics.critical_flow"><code>critical_flow</code></a> calculates critical leaf transpiration rate,     beyond which leaf will desicate. Function <a href="#PlantHydraulics.critical_flow"><code>critical_flow</code></a> accounts     for drought legacy effect by design, and the more severe the drought     history, the lower the <code>critical_flow</code>. Again, <code>ini</code> in the function is also     optional, but a good guess will speed up the calculations.</p><p>Examples</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
leaf = LeafHydraulics{FT}();
risk = critical_flow(leaf);
@show risk;
leaf.p_ups = FT(-1.0);
risk = critical_flow(leaf);
@show risk;</code></pre><h2 id="Whole-plant-Hydraulics"><a class="docs-heading-anchor" href="#Whole-plant-Hydraulics">Whole-plant Hydraulics</a><a id="Whole-plant-Hydraulics-1"></a><a class="docs-heading-anchor-permalink" href="#Whole-plant-Hydraulics" title="Permalink"></a></h2><p>Though <a href="#PlantHydraulics.xylem_risk"><code>xylem_risk</code></a> and <a href="#PlantHydraulics.critical_flow"><code>critical_flow</code></a> can work on their     own, the functions only evaluate the risks on leaf level. The more     realistic case is that when leaf transpiration rate increases, <code>p_ups</code> in     the <a href="#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> gets more negative. Thus, the     <a href="#PlantHydraulics.xylem_risk"><code>xylem_risk</code></a> and <a href="#PlantHydraulics.critical_flow"><code>critical_flow</code></a> tends to underestimate     the risk and overestimate the critical flow rate. To overcome this problem,     whole-plant level plant hydraulics are provided.</p><p>Function <a href="#PlantHydraulics.end_pressure"><code>end_pressure</code></a> calculates the leaf xylem end pressure for     a whole-plant struct using these steps:</p><ul><li>calculate the plant base pressure from a given total flow rate</li><li>calculate the trunk end pressure (if present)</li><li>calculate the branch end pressure (if present)</li><li>calculate the leaf end pressure (if present)</li></ul><p>Accordingly, there is a function <a href="#PlantHydraulics.critical_flow"><code>critical_flow</code></a> to calculate the     critical flow rate for the whole plant. Be aware that Plant-level function     <a href="#PlantHydraulics.end_pressure"><code>end_pressure</code></a> and <a href="#PlantHydraulics.critical_flow"><code>critical_flow</code></a> only applies to the     case of only one canopy layer (or big-leaf model). As to the case of     multiple canopy layer, more functions are pending.</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.critical_flow" href="#PlantHydraulics.critical_flow"><code>PlantHydraulics.critical_flow</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">critical_flow(
            hs::LeafHydraulics{FT},
            ini::FT = FT(0.5)
) where {FT&lt;:AbstractFloat}
critical_flow(
            tree::TreeSimple{FT},
            ini::FT = FT(0.5)
) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate the critical flow rate (K ≈ 0), given</p><ul><li><code>hs</code> <a href="#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> type struct</li><li><code>ini</code> Initial guess</li><li><code>tree</code> <a href="#PlantHydraulics.TreeSimple"><code>TreeSimple</code></a> type struct</li></ul><p>Note, for the safety of no NaN, update critical_flow when ΔP &gt;= -0.01</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/hydraulics/flow.jl#L41-L57">source</a></section></article><p>Note that the organ level or whole-plant level conductances are different from     xylem hydraulic conductance at a given xylem slice. Also, simply computing     the conductance as the flow rate divided by pressre drop is not accurate     because of the gravity. In the PlantHydraulics module, the organ and     whole-plant level conductances are computed by firstly adding up all the     resistances in each element, and then computing the relative loss of     conductance. The function available to use is</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.plant_conductances!" href="#PlantHydraulics.plant_conductances!"><code>PlantHydraulics.plant_conductances!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">plant_conductances!(tree::TreeSimple{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>Update plant total hydraulic information in each element and whole plant, given</p><ul><li><code>tree</code> <a href="#PlantHydraulics.TreeSimple"><code>TreeSimple</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/hydraulics/conductance.jl#L6-L11">source</a></section></article><h2 id="Temperature-effects"><a class="docs-heading-anchor" href="#Temperature-effects">Temperature effects</a><a id="Temperature-effects-1"></a><a class="docs-heading-anchor-permalink" href="#Temperature-effects" title="Permalink"></a></h2><p>Plant hydraulic properties changes with temperature, due to its impacts on     surface tension and viscosity. As to surface tension, when temperature     increases, air-water interface surface tension decreases, meaning that with     the same curvature, the capillary pressure provided decreases. As a result,     soil matrix potential becomes less nagative (good for plants!), but the     conduit resistance to cavitation decreases (bad for plants!). As to     viscosity, when temperature increases, viscosity decreases, meaning that     pressure drop decreases at the same flow rate (good for plants!). To     account for these effects, we provided <a href="#PlantHydraulics.temperature_effects!"><code>temperature_effects!</code></a>     function:</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.temperature_effects!" href="#PlantHydraulics.temperature_effects!"><code>PlantHydraulics.temperature_effects!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">temperature_effects!(
            hs::LeafHydraulics{FT}
) where {FT&lt;:AbstractFloat}
temperature_effects!(
            hs::AbstractHydraulicOrgan{FT}
) where {FT&lt;:AbstractFloat}
temperature_effects!(
            hs::AbstractHydraulicOrgan{FT},
            T::FT
) where {FT&lt;:AbstractFloat}
temperature_effects!(
            tree::TreeSimple{FT}
) where {FT&lt;:AbstractFloat}</code></pre><p>Update temperature effetcs on hydralic system, given</p><ul><li><code>hs</code> <a href="#PlantHydraulics.AbstractHydraulicOrgan"><code>AbstractHydraulicOrgan</code></a> type struct</li><li><code>T</code> Given temperature</li><li><code>tree</code> <a href="#PlantHydraulics.TreeSimple"><code>TreeSimple</code></a> type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/hydraulics/temperature.jl#L6-L25">source</a></section></article><p>Keep in mind that, leaf critical pressure changes due to surface tension,     though the impact can be neglected for minor temperature change. However,     soil water content is still computed using the equivalent matrix potential     at 25 Celcius because water content is only related to the air-water     interface curvature.</p><h2 id="Pressure-volume-curve"><a class="docs-heading-anchor" href="#Pressure-volume-curve">Pressure-volume curve</a><a id="Pressure-volume-curve-1"></a><a class="docs-heading-anchor-permalink" href="#Pressure-volume-curve" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.AbstractCapacity" href="#PlantHydraulics.AbstractCapacity"><code>PlantHydraulics.AbstractCapacity</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">abstract type AbstractCapacity{FT}</code></pre><p>Hierachy of AbstractCapacity</p><ul><li><a href="#PlantHydraulics.PVCurveLinear"><code>PVCurveLinear</code></a></li><li><a href="#PlantHydraulics.PVCurveSegmented"><code>PVCurveSegmented</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/types/curves.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.PVCurveLinear" href="#PlantHydraulics.PVCurveLinear"><code>PlantHydraulics.PVCurveLinear</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct PVCurveLinear{FT} &lt;: AbstractCapacity{FT}</code></pre><p>Struct that contains information for linear PV curve</p><p><strong>Fields</strong></p><ul><li><p><code>slope</code></p><p>Slope of the linear PV curve (relative to maximum) <code>[MPa⁻¹]</code></p></li><li><p><code>k_refill</code></p><p>Conductance for refilling (relative to maximum) <code>[MPa⁻¹ s⁻¹]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.PVCurveSegmented" href="#PlantHydraulics.PVCurveSegmented"><code>PlantHydraulics.PVCurveSegmented</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct PVCurveSegmented{FT} &lt;: AbstractCapacity{FT}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.p_from_volume" href="#PlantHydraulics.p_from_volume"><code>PlantHydraulics.p_from_volume</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">p_from_volume(
            pv::AbstractCapacity{FT},
            rvol::FT,
            T::FT
) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate equilibrium pressure from relative volume, given</p><ul><li><code>pv</code> <a href="#PlantHydraulics.AbstractCapacity"><code>AbstractCapacity</code></a> type of struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/curves/capacity.jl#L6-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.update_PVF!" href="#PlantHydraulics.update_PVF!"><code>PlantHydraulics.update_PVF!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">update_PVF!(hs::LeafHydraulics{FT}, Δt::FT) where {FT&lt;:AbstractFloat}
update_PVF!(hs::StemHydraulics{FT}, Δt::FT) where {FT&lt;:AbstractFloat}
update_PVF!(hs::RootHydraulics{FT}, Δt::FT) where {FT&lt;:AbstractFloat}
update_PVF!(hs::RootHydraulics{FT},
            Δt::FT,
            nss::Bool
) where {FT&lt;:AbstractFloat}
update_PVF!(roots::Array{RootHydraulics{FT},1},
            ks::Array{FT,1},
            ps::Array{FT,1},
            qs::Array{FT,1},
            q_sum::FT,
            Δt::FT
) where {FT&lt;:AbstractFloat}
update_PVF!(tree::GrassLikeOrganism{FT}, Δt::FT) where {FT&lt;:AbstractFloat}
update_PVF!(tree::PalmLikeOrganism{FT}, Δt::FT) where {FT&lt;:AbstractFloat}
update_PVF!(tree::TreeLikeOrganism{FT}, Δt::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Update pressure, capacitance, and flow rates in hydraulic system, given</p><ul><li><code>hs</code> <a href="#PlantHydraulics.AbstractHydraulicOrgan"><code>AbstractHydraulicOrgan</code></a> or <a href="#PlantHydraulics.AbstractPlantOrganism"><code>AbstractPlantOrganism</code></a> type   struct</li><li><code>Δt</code> Time interval</li><li><code>nss</code> NonSteadyStateMode placeholder (useless)</li><li><code>ks</code> Container for conductance in each root layer</li><li><code>ps</code> Container for end xylem pressure in each layer</li><li><code>qs</code> Container for flow rate out of each layer</li><li><code>q_sum</code> Total flow rate out of the roots</li><li><code>tree</code> <a href="#PlantHydraulics.GrassLikeOrganism"><code>GrassLikeOrganism</code></a>, <a href="#PlantHydraulics.PalmLikeOrganism"><code>PalmLikeOrganism</code></a>, or   <a href="#PlantHydraulics.TreeLikeOrganism"><code>TreeLikeOrganism</code></a> type struct</li></ul><p>Note that this function only updates the equilibrium pressure in the tissue,     but not the xylem flow pressure. The difference between the two pressures     is used to drive water exchange between xylem and capacictance tissues.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/9c7998ec5c4bd360a57b6b72b87a1a4307dd499b/src/hydraulics/capacitance.jl#L6-L40">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../generated/diurnal/">Diurnal »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 20 January 2021 01:48">Wednesday 20 January 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
