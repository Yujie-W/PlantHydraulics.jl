var documenterSearchIndex = {"docs":
[{"location":"index.html#PlantHydraulics.jl","page":"Home","title":"PlantHydraulics.jl","text":"","category":"section"},{"location":"index.html","page":"Home","title":"Home","text":"Plant hydraulics package using numerical methods.","category":"page"},{"location":"index.html#Usage","page":"Home","title":"Usage","text":"","category":"section"},{"location":"index.html","page":"Home","title":"Home","text":"using PlantHydraulics\n\nleaf   = LeafHydraulics{Float32}();\ne_crit = leaf_e_crit(leaf);","category":"page"},{"location":"API.html#API","page":"API","title":"API","text":"","category":"section"},{"location":"API.html","page":"API","title":"API","text":"CurrentModule = PlantHydraulics","category":"page"},{"location":"API.html#Plant-Hydraulic-System","page":"API","title":"Plant Hydraulic System","text":"","category":"section"},{"location":"API.html","page":"API","title":"API","text":"The PlantHydraulics module provides two levels of hydraulics system: organ-level and plant-level. The organ-level hydraulic systems include Leaf, Root, and Stem (trunk and branch). The plant-level hydraulic system is can be any combination of the three organs (custimized definition may apply).","category":"page"},{"location":"API.html#Leaf,-Root,-and-Stem-HS","page":"API","title":"Leaf, Root, and Stem HS","text":"","category":"section"},{"location":"API.html","page":"API","title":"API","text":"Plant hydraulics is segmented to three organ-level systems/structs (LeafHydraulics, RootHydraulics, and StemHydraulics) subject to an Abstract type (AbstractHydraulicSystem). The major differences among the three structs are","category":"page"},{"location":"API.html","page":"API","title":"API","text":"LeafHydraulics has an extra-xylary component\nRootHydraulics has a rhizosphere component\nRootHydraulics and StemHydraulics have a gravity component","category":"page"},{"location":"API.html","page":"API","title":"API","text":"See the documentation for each struct for more details:","category":"page"},{"location":"API.html","page":"API","title":"API","text":"AbstractHydraulicSystem\nLeafHydraulics\nRootHydraulics\nStemHydraulics","category":"page"},{"location":"API.html#PlantHydraulics.AbstractHydraulicSystem","page":"API","title":"PlantHydraulics.AbstractHydraulicSystem","text":"abstract type AbstractHydraulicSystem{FT}\n\nHierarchy of AbstractHydraulicSystem\n\nLeafHydraulics\nRootHydraulics\nStemHydraulics\n\n\n\n\n\n","category":"type"},{"location":"API.html#PlantHydraulics.LeafHydraulics","page":"API","title":"PlantHydraulics.LeafHydraulics","text":"mutable struct LeafHydraulics{FT<:AbstractFloat}\n\nA struct that contains leaf hydraulics information.\n\nFields\n\narea\nLeaf area [m²]\nk_ox\nMaximal extra-xylary hydraulic conductance [mol s⁻¹ MPa⁻¹ m⁻²]\nk_sla\nMaximal leaf hydraulic conductance per leaf area [mol s⁻¹ MPa⁻¹ m⁻²]\nvc\nVulnerability curve\np_crt\nCritical xylem pressure [MPa]\nflow\nFlow rate in the xylem [mol s⁻¹]\np_dos\nLeaf xylem water pressure at the downstream end of leaf xylem [MPa]\np_leaf\nLeaf end water pressure at air-water interface [MPa]\np_ups\nLeaf xylem water pressure at the leaf base (upstream) [MPa]\nk_element\nList of leaf k_max per element [mol s⁻¹ MPa⁻¹ m⁻²]\nk_history\nList of leaf kr history per element\np_element\nList of xylem water pressure [MPa]\np_history\nList of xylem water pressure history (normalized to 298.15 K) [MPa]\nf_st\nRelative surface tension\nf_vis\nRelative viscosity\nT_sap\nUpstream sap temperature [K]\n\n\n\n\n\n","category":"type"},{"location":"API.html#PlantHydraulics.RootHydraulics","page":"API","title":"PlantHydraulics.RootHydraulics","text":"mutable struct RootHydraulics{FT<:AbstractFloat}\n\nA struct that contains root hydraulics information.\n\nFields\n\narea\nRoot cross-section area [m²]\nk_max\nMaximal hydraulic conductance [mol s⁻¹ MPa⁻¹]\nk_s\nMaximal xylem hydraulic conductivity [mol s⁻¹ MPa⁻¹ m⁻²]\nvc\nVulnerability curve\nΔh\nRoot z difference [m]\nk_rhiz\nRhizosphere  conductance [mol s⁻¹ MPa⁻¹]\nsoil_type\nSoil type\nsoil_α\nα is related to the inverse of the air entry suction, α > 0\nsoil_n\nMeasure of the pore-size distribution\nsoil_m\n1 - 1/n\nflow\nFlow rate in the xylem [mol s⁻¹]\np_dos\nXylem water pressure at the downstream end of xylem [MPa]\np_rhiz\nXylem-rhizosphere interface water pressure [MPa]\np_ups\nSoil matrix potential [MPa]\nk_element\nList of k_max per element [mol s⁻¹ MPa⁻¹ m⁻²]\nk_history\nList of kr history per element\np_element\nList of xylem water pressure [MPa]\np_gravity\nList of pressure drop caused by gravity [MPa]\np_history\nList of xylem water pressure history (normalized to 298.15 K) [MPa]\nf_st\nRelative surface tension\nf_vis\nRelative viscosity\nT_sap\nUpstream sap temperature [K]\n\n\n\n\n\n","category":"type"},{"location":"API.html#PlantHydraulics.StemHydraulics","page":"API","title":"PlantHydraulics.StemHydraulics","text":"mutable struct StemHydraulics{FT<:AbstractFloat}\n\nA struct that contains stem hydraulics information.\n\nFields\n\narea\nStem cross-section area [m²]\nk_max\nMaximal hydraulic conductance [mol s⁻¹ MPa⁻¹]\nk_s\nMaximal xylem hydraulic conductivity [mol s⁻¹ MPa⁻¹ m⁻²]\nvc\nVulnerability curve\nΔh\nStem height difference [m]\np_dos\nXylem water pressure at the downstream end of xylem [MPa]\np_ups\nXylem water pressure at the base (upstream) [MPa]\nk_element\nList of k_max per element [mol s⁻¹ MPa⁻¹ m⁻²]\nk_history\nList of kr history per element\np_element\nList of xylem water pressure [MPa]\np_gravity\nList of pressure drop caused by gravity [MPa]\np_history\nList of xylem water pressure history (normalized to 298.15 K) [MPa]\nf_st\nRelative surface tension\nf_vis\nRelative viscosity\nT_sap\nUpstream sap temperature [K]\n\n\n\n\n\n","category":"type"},{"location":"API.html","page":"API","title":"API","text":"To initialize a hydraulics system, one needs to provide the floating type, for example:","category":"page"},{"location":"API.html","page":"API","title":"API","text":"using PlantHydraulics\n\nFT = Float32;\nhs_leaf = LeafHydraulics{FT}();\nhs_root = RootHydraulics{FT}();\nhs_stem = StemHydraulics{FT}();","category":"page"},{"location":"API.html#Whole-plant-HS","page":"API","title":"Whole-plant HS","text":"","category":"section"},{"location":"API.html","page":"API","title":"API","text":"Plants differ in their structures, for example, some plants have a canopy far above the ground elevated by a trunk, some plants have a structured canopy supported by branch systems, and some plant has no trunk at all. To represent the structural differences, several types of plant hydraulics systems are pre-defined, and they are GrassLikeHS, PalmLikeHS, and TreeLikeHS structs subject to a AbstractPlantHS type, where HS stands for hydraulic system. The major difference between the HSs are","category":"page"},{"location":"API.html","page":"API","title":"API","text":"GrassLikeHS has only mutiple root and canopy layers, no trunk or branch\nPalmLikeHS has multiple root layers, a trunk, and multiple canopy layers, no branch system\nTreeLikeHS has multiple root layers, a trunk, and multiple branch+canopy layers, and each branch corresponds to a canopy layer","category":"page"},{"location":"API.html","page":"API","title":"API","text":"See the documentation for each struct for more details:","category":"page"},{"location":"API.html","page":"API","title":"API","text":"AbstractPlantHS\nGrassLikeHS\nPalmLikeHS\nTreeLikeHS","category":"page"},{"location":"API.html#PlantHydraulics.AbstractPlantHS","page":"API","title":"PlantHydraulics.AbstractPlantHS","text":"abstract type AbstractPlantHS{FT}\n\nHierachy of AbstractPlantHS\n\nGrassLikeHS\nPalmLikeHS\nTreeLikeHS\n\n\n\n\n\n","category":"type"},{"location":"API.html#PlantHydraulics.GrassLikeHS","page":"API","title":"PlantHydraulics.GrassLikeHS","text":"mutable struct GrassLikeHS{FT<:AbstractFloat}\n\nA plant hydraulic system like a grass, which contains multiple root layers, and multiple canopy layers. No trunk or branch system applies.\n\nFields\n\nn_root\nRoot Layers\nn_canopy\nCanopy Layers\nroots\nRoots system\nleaves\nLeaves\nroot_index_in_soil\nCorresponding soil layer per root layer\ncanopy_index_in_air\nCorresponding air layer per canopy layer\n\n\n\n\n\n","category":"type"},{"location":"API.html#PlantHydraulics.PalmLikeHS","page":"API","title":"PlantHydraulics.PalmLikeHS","text":"mutable struct PalmLikeHS{FT<:AbstractFloat}\n\nA plant hydraulic system like a palm, which contains multiple root layers, one trunk, and multiple canopy layers. No branch system applies.\n\nFields\n\nn_root\nRoot Layers\nn_canopy\nCanopy Layers\nroots\nRoots system\ntrunk\nTrunk\nleaves\nLeaves\nroot_index_in_soil\nCorresponding soil layer per root layer\ncanopy_index_in_air\nCorresponding air layer per canopy layer\n\n\n\n\n\n","category":"type"},{"location":"API.html#PlantHydraulics.TreeLikeHS","page":"API","title":"PlantHydraulics.TreeLikeHS","text":"mutable struct TreeLikeHS{FT<:AbstractFloat}\n\nA plant hydraulic system like a tree, which contains multiple root layers, one trunk, and multiple branch and canopy layers.\n\nFields\n\nn_root\nRoot Layers\nn_canopy\nCanopy Layers\nroots\nRoots system\ntrunk\nTrunk\nbranch\nBranch system\nleaves\nLeaves\nroot_index_in_soil\nCorresponding soil layer per root layer\ncanopy_index_in_air\nCorresponding air layer per canopy layer\n\n\n\n\n\n","category":"type"},{"location":"API.html","page":"API","title":"API","text":"To ease the initialization of a plant hydraulics system, a few customized functions are provided for quick initialization. More importantly, modifications to each field in the struct are always allowed. The quick functions are create_grass_like_hs, create_palm_like_hs, and create_tree_like_hs:","category":"page"},{"location":"API.html","page":"API","title":"API","text":"create_grass_like_hs\ncreate_palm_like_hs\ncreate_tree_like_hs","category":"page"},{"location":"API.html#PlantHydraulics.create_grass_like_hs","page":"API","title":"PlantHydraulics.create_grass_like_hs","text":"create_grass_like_hs(z_root::FT, z_trunk::FT, z_canopy::FT, soil_bounds::Array{FT,1}, air_bounds::Array{FT,1}) where {FT<:AbstractFloat}\n\nCreate a GrassLikeHS, given\n\nz_root Maximal root depth (negative value)\nz_canopy Maximal canopy height (positive value)\nsoil_bounds Array of soil layer boundaries starting from 0\nair_bounds Array of air layer boundaries starting from 0\n\n\n\n\n\n","category":"function"},{"location":"API.html#PlantHydraulics.create_palm_like_hs","page":"API","title":"PlantHydraulics.create_palm_like_hs","text":"create_palm_like_hs(z_root::FT, z_trunk::FT, z_canopy::FT, soil_bounds::Array{FT,1}, air_bounds::Array{FT,1}) where {FT<:AbstractFloat}\n\nCreate a PalmLikeHS, given\n\nz_root Maximal root depth (negative value)\nz_trunk Maximal trunk height (positive value)\nz_canopy Maximal canopy height (positive value)\nsoil_bounds Array of soil layer boundaries starting from 0\nair_bounds Array of air layer boundaries starting from 0\n\n\n\n\n\n","category":"function"},{"location":"API.html#PlantHydraulics.create_tree_like_hs","page":"API","title":"PlantHydraulics.create_tree_like_hs","text":"create_tree_like_hs(z_root::FT, z_trunk::FT, z_canopy::FT, soil_bounds::Array{FT,1}, air_bounds::Array{FT,1}) where {FT<:AbstractFloat}\n\nCreate a TreeLikeHS, given\n\nz_root Maximal root depth (negative value)\nz_trunk Maximal trunk height (positive value)\nz_canopy Maximal canopy height (positive value)\nsoil_bounds Array of soil layer boundaries starting from 0\nair_bounds Array of air layer boundaries starting from 0\n\n\n\n\n\n","category":"function"},{"location":"API.html","page":"API","title":"API","text":"What these functions do are to determine how many root layers and branch/canopy layers to add based on the tree information and environmental settings. To determine number of root layers, rooting depth and the soil layer information are required. The z_root is the maximal root depth in negative number, and soil_bounds is the boundaries of soil layers staring from 0. For example, for a soil_bounds of [0.0, -1.0, -2.0, -3.0, -4.0], a z_root of -1 gives 1 root layer, and a z_root of -1.5 or -2.0 gives 2 root layers. The z_trunk, z_canopy, and air_bounds determine how many canopy layers to add. For example, for a air_bounds of [0.0, 1.0, 2.0, 3.0, 4.0, 5.0 ... 20.0, 21.0, 22.0], a z_trunk of 5.0 z_canopy of 7.0 give 2 canopy layers, and a z_trunk of 5.5 z_canopy of 7.0 give 2 canopy layers. Also, the root_index_in_soil and canopy_index_in_air indicate which soil or air layer the root or canopy layer corresponds with, respectively. For instance, a index of 7 means that the canopy layer should use the 7th air layer.","category":"page"},{"location":"API.html","page":"API","title":"API","text":"To initialize a whole-plant hydraulic system, checkout the example below:","category":"page"},{"location":"API.html","page":"API","title":"API","text":"using PlantHydraulics\n\nFT = Float32;\ngrass = create_grass_like_hs(FT(-2.1), FT(0.5), FT(8), FT[0,-1,-2,-3], collect(FT,0:1:20));\npalm  =  create_palm_like_hs(FT(-2.1), FT(0.5), FT(8), FT[0,-1,-2,-3], collect(FT,0:1:20));\ntree  =  create_tree_like_hs(FT(-2.1), FT(0.5), FT(8), FT[0,-1,-2,-3], collect(FT,0:1:20));","category":"page"},{"location":"API.html#Hydraulic-conductance","page":"API","title":"Hydraulic conductance","text":"","category":"section"},{"location":"API.html","page":"API","title":"API","text":"Plants transport water through xylem conduits (vessels in most angiosperms, trachieds in most gymnosperms). With the ascent of sap along the hydraulic system, water pressure in the conduits is typically negative. The negative xylem water pressure tends to pull air from surrounding tisses or the atmosphere into the xylem conduits, resulting in xylem cavitation. The air bubbles in cavitated conduits block water flow, and thus results in decline of water transport capability (measured by xylem hydraulic conductance).","category":"page"},{"location":"API.html","page":"API","title":"API","text":"Typically, the correlation between xylem water pressure (P leq 0) and hydraulic conductance (k) is expressed by a Weibull function for WeibullSingle type correlation:","category":"page"},{"location":"API.html","page":"API","title":"API","text":"k = k_textmax cdot exp left( -left( dfrac-PB right)^C right)","category":"page"},{"location":"API.html","page":"API","title":"API","text":"where k_textmax is the maximal hydraulic conductance, and B and C are the Weibull parameters. This correlation is also known as vulnerability curve (VC) to drought stress. Sometimes, plants exhibit a segmented VC, for example, the fibers may transport water as well and are much more resistant to drought than vessels. Thus, a dual Weibull function is presented for WeibullDual type correlation (P leq 0):","category":"page"},{"location":"API.html","page":"API","title":"API","text":"k = k_textmax cdot left f_1 cdot exp left -left( dfrac-PB_1 right)^C_1 right +\n                         (1 - f_1) cdot exp left -left( dfrac-PB_2 right)^C_2 right right","category":"page"},{"location":"API.html","page":"API","title":"API","text":"The VC formulations are abstractized as","category":"page"},{"location":"API.html","page":"API","title":"API","text":"AbstractVulnerability\nWeibullDual\nWeibullSingle","category":"page"},{"location":"API.html#PlantHydraulics.AbstractVulnerability","page":"API","title":"PlantHydraulics.AbstractVulnerability","text":"abstract type AbstractVulnerability{FT}\n\nHierachy of AbstractVulnerability\n\nWeibullSingle\nWeibullDual\n\n\n\n\n\n","category":"type"},{"location":"API.html#PlantHydraulics.WeibullDual","page":"API","title":"PlantHydraulics.WeibullDual","text":"mutable struct WeibullDual{FT}\n\nStruct that contains dual Weibull function parameters.\n\nFields\n\nb1\nB of first part [MPa]\nc1\nC of first part\nf1\nF of first part\nb2\nB of second part [MPa]\nc2\nC of second part\nf2\nF of second part\n\n\n\n\n\n","category":"type"},{"location":"API.html#PlantHydraulics.WeibullSingle","page":"API","title":"PlantHydraulics.WeibullSingle","text":"mutable struct WeibullSingle{FT}\n\nStruct that contains single Weibull function parameters.\n\nFields\n\nb\nB of first part [MPa]\nc\nC of first part\n\n\n\n\n\n","category":"type"},{"location":"API.html","page":"API","title":"API","text":"The function to call is","category":"page"},{"location":"API.html","page":"API","title":"API","text":"xylem_k_ratio","category":"page"},{"location":"API.html#PlantHydraulics.xylem_k_ratio","page":"API","title":"PlantHydraulics.xylem_k_ratio","text":"xylem_k_ratio(vc::WeibullSingle{FT}, p_25::FT, vis::FT) where {FT<:AbstractFloat}\nxylem_k_ratio(vc::  WeibullDual{FT}, p_25::FT, vis::FT) where {FT<:AbstractFloat}\n\nReturns the relative hydraulic conductance, given\n\nvc Xylem vulnerability curve\np Xylem pressure at 298.15 K in [MPa]\np_25 Equivalent xylem pressure at 298.15 K in [MPa]\nvis Relative viscosity. If missing, vis = 1.\n\n\n\n\n\n","category":"function"},{"location":"API.html","page":"API","title":"API","text":"Note it here that xylem_k_ratio(vc, p) calculate the k without making temperature corrections, but the xylem_k_ratio(vc, p_25, vis) makes correction over the viscosity (the higher the viscosity, the lower the k). Also, p_25 means that the pressure has been corrected to 298.15 K for surface tension (the higher the surface tension, the more resistant the xylem).","category":"page"},{"location":"API.html","page":"API","title":"API","text":"Meanwhile, there is a function to call to calculate the critical pressure, beyond which leaf will decicate. The critical pressure is calculated as the pressure at which k is 0.001 of k_textmax for WeibullSingle (for WeibullDual, each segment need to reach 0.001). The functions is","category":"page"},{"location":"API.html","page":"API","title":"API","text":"xylem_p_crit","category":"page"},{"location":"API.html#PlantHydraulics.xylem_p_crit","page":"API","title":"PlantHydraulics.xylem_p_crit","text":"xylem_p_crit(vc::WeibullSingle{FT}, st::FT) where {FT<:AbstractFloat}\nxylem_p_crit(vc::WeibullDual{FT}  , st::FT) where {FT<:AbstractFloat}\n\nReturns the relative hydraulic conductance, given\n\nvc Xylem vulnerability curve\nst Relative surface tension. If missing, vis = 1.\n\n\n\n\n\n","category":"function"},{"location":"API.html","page":"API","title":"API","text":"Examples:","category":"page"},{"location":"API.html","page":"API","title":"API","text":"using PlantHydraulics\n\nFT = Float32;\nvc_1 = WeibullSingle{FT}();\nvc_2 = WeibullDual{FT}();\n\nk_1 = xylem_k_ratio(vc_1, -1.0);\nk_2 = xylem_k_ratio(vc_2, -1.0);\nk_3 = xylem_k_ratio(vc_1, -1.0, 1.2);\nk_4 = xylem_k_ratio(vc_2, -1.0, 1.2);","category":"page"},{"location":"API.html#Pressure-and-Flow","page":"API","title":"Pressure and Flow","text":"","category":"section"},{"location":"API.html","page":"API","title":"API","text":"The PlantHydraulics module is designed to run numerically for the following reasons:","category":"page"},{"location":"API.html","page":"API","title":"API","text":"Weibull function is cannot be integrated\nThe VC is segmented, i.e., if P  0, k = k_textmax (implemented in xylem_k_ratio)\nOnce xylem cavitation occurs, it cannot be easily recovered unless P  0, and thus there is a drought legacy effect. This is why there are a few fields in the LeafHydraulics, RootHydraulics, and StemHydraulics structs to store the drought history information.\nTemperature may change along the flow path. The f_st and f_vis in the structs help deal with these effects.","category":"page"},{"location":"API.html","page":"API","title":"API","text":"Function xylem_p_from_flow calculates the xylem end pressure for an organ-level hysraulic system. As mentioned above, the RootHydraulics and StemHydraulics has a gravity component, and the RootHydraulics has a rhizosphere component. Also be aware that xylem_p_from_flow accounts for temperature effects on surface tension and viscosity.","category":"page"},{"location":"API.html","page":"API","title":"API","text":"xylem_p_from_flow","category":"page"},{"location":"API.html#PlantHydraulics.xylem_p_from_flow","page":"API","title":"PlantHydraulics.xylem_p_from_flow","text":"xylem_p_from_flow(hs::LeafHydraulics{FT}, flow::FT) where {FT<:AbstractFloat}\nxylem_p_from_flow(hs::RootHydraulics{FT}, flow::FT) where {FT<:AbstractFloat}\nxylem_p_from_flow(hs::StemHydraulics{FT}, flow::FT) where {FT<:AbstractFloat}\n\nReturn the xylen end pressure from flow rate, given\n\nhs LeafHydraulics or RootHydraulics or   StemHydraulics type struct\nflow Flow rate (per leaf area)\n\nNote, gravity is accounted for in root and stem; rhizosphere conductance is     accounted for in root; extra-xylary conductance is not accounted for in     leaf here because it calculates xylem end pressure.\n\n\n\n\n\n","category":"function"},{"location":"API.html","page":"API","title":"API","text":"Noe that function xylem_p_from_flow does not update the pressure profiles or history in the xylem. To update these profiles, use hydraulic_p_profile!:","category":"page"},{"location":"API.html","page":"API","title":"API","text":"hydraulic_p_profile!","category":"page"},{"location":"API.html#PlantHydraulics.hydraulic_p_profile!","page":"API","title":"PlantHydraulics.hydraulic_p_profile!","text":"hydraulic_p_profile!(hs::LeafHydraulics{FT}, flow::FT) where {FT<:AbstractFloat}\nhydraulic_p_profile!(hs::RootHydraulics{FT}, flow::FT) where {FT<:AbstractFloat}\nhydraulic_p_profile!(hs::StemHydraulics{FT}, flow::FT) where {FT<:AbstractFloat}\n\nUpdate the pressure profile, given\n\nhs LeafHydraulics or RootHydraulics or   StemHydraulics type struct\nflow Flow rate (per leaf area)\n\n\n\n\n\n","category":"function"},{"location":"API.html","page":"API","title":"API","text":"Examples:","category":"page"},{"location":"API.html","page":"API","title":"API","text":"using PlantHydraulics\n\nFT = Float32;\nleaf = LeafHydraulics{FT}();\np = xylem_p_from_flow(leaf, FT(0.01));\n@show leaf.p_element;\nhydraulic_p_profile!(leaf, FT(0.01));\n@show leaf.p_element;","category":"page"},{"location":"API.html#Root-Hydraulics","page":"API","title":"Root Hydraulics","text":"","category":"section"},{"location":"API.html","page":"API","title":"API","text":"Function xylem_p_from_flow works for the case of only 1 root layer if one needs the plant base xylem water pressure. However, when there are multiple root layers, xylem_p_from_flow does not apply. In this case, iterations are required to calculate the xylem end pressure for each root layers, and then make sure all root layers have the same xylem end pressure. A few functions are provided to realize this.","category":"page"},{"location":"API.html","page":"API","title":"API","text":"Function root_q_from_pressure uses Root Solving method to calculate the flow rate through the RootHydraulics struct that yields the given xylem end pressure. The ini in the function is optional. However, using the flow rate from last instant when pressure does not differ much will speed up the calculation.","category":"page"},{"location":"API.html","page":"API","title":"API","text":"root_q_from_pressure","category":"page"},{"location":"API.html#PlantHydraulics.root_q_from_pressure","page":"API","title":"PlantHydraulics.root_q_from_pressure","text":"root_q_from_pressure(root::RootHydraulics{FT}, pressure::FT, ini::FT) where {FT<:AbstractFloat}\n\nCalculate the flow rate from a given tree base pressure, given\n\nroot RootHydraulics type struct\npressure Given tree base pressure in [MPa]\nini Initial guess\n\n\n\n\n\n","category":"function"},{"location":"API.html","page":"API","title":"API","text":"Computing the flow rates in all the root layers and the plant base xylem pressure from a given flow needs more iterations based on root_q_from_pressure. The algorithm is to calculate the flow rates in all the root layers for a given plant base xylem pressure, and then use the Root Solving methods to calculate pressure that yields a total flow rate equals to the given value. The function q_diff calculates the difference of total flow rate for a given pressure and the target flow rate. The function root_qs_p_from_q calculates the flows rates in all the root layers and the plant base xylem pressure. Note that ini in the function is also optional, but a good guess will speed up the calculations. Be aware that function root_qs_p_from_q does not update the pressure profiles in the plant struct.","category":"page"},{"location":"API.html","page":"API","title":"API","text":"q_diff\nroot_qs_p_from_q","category":"page"},{"location":"API.html#PlantHydraulics.q_diff","page":"API","title":"PlantHydraulics.q_diff","text":"q_diff(roots::Array{RootHydraulics{FT},1}, pressure::FT, target::FT) where {FT<:AbstractFloat}\n\nFunction to calculate the flow rate difference to find solution pressure, given\n\nroots Array of RootHydraulics type struct\npressure Given tree base pressure in [MPa]\ntarget Target flow rate in [mol s⁻¹]\n\n\n\n\n\n","category":"function"},{"location":"API.html#PlantHydraulics.root_qs_p_from_q","page":"API","title":"PlantHydraulics.root_qs_p_from_q","text":"root_qs_p_from_q(roots::Array{RootHydraulics{FT},1}, flow::FT, ini::FT) where {FT<:AbstractFloat}\n\nSolve for the flow rates in each root layer and root pressure, given\n\nroots Array of RootHydraulics struts\nflow Total flow rates\nini Initial guess of plant base pressure in [MPa]\n\n\n\n\n\n","category":"function"},{"location":"API.html","page":"API","title":"API","text":"Example","category":"page"},{"location":"API.html","page":"API","title":"API","text":"using PlantHydraulics\n\nFT = Float32;\npalm  =  create_palm_like_hs(FT(-2.1), FT(0.5), FT(8), FT[0,-1,-2,-3], collect(FT,0:1:20));\nqs,p = root_qs_p_from_q(palm.roots, FT(1));","category":"page"},{"location":"API.html#Leaf-Hydraulics","page":"API","title":"Leaf Hydraulics","text":"","category":"section"},{"location":"API.html","page":"API","title":"API","text":"The stomatal models often require plant hydraulics either as a correction factor (in empirical stomatal models) or as the risk term (in optimal stomatal models). To facilitate the calculations, a few specific functions are provided.","category":"page"},{"location":"API.html","page":"API","title":"API","text":"Function leaf_xylem_risk returns the risk in xylem hydraulic function based on the most downstream end of the xylem. The risk of plant hydraulic system is not only on current system, but also potential new growth (plants don't want to risk new growth either). Thus, function leaf_xylem_risk evaluates the risk from the xylem pressure calculated from current system (with drought history), and then compute the risk from the pressure (the severer the srought history, the higher the risk):","category":"page"},{"location":"API.html","page":"API","title":"API","text":"leaf_xylem_risk","category":"page"},{"location":"API.html#PlantHydraulics.leaf_xylem_risk","page":"API","title":"PlantHydraulics.leaf_xylem_risk","text":"leaf_xylem_risk(hs::LeafHydraulics{FT}, flow::FT) where {FT<:AbstractFloat}\n\nEvaluate the hydraulic risk at the end of leaf xylem, given\n\nhs LeafHydraulics type struct\nflow Flow rate (per leaf area)\n\n\n\n\n\n","category":"function"},{"location":"API.html","page":"API","title":"API","text":"Note that function leaf_xylem_risk can work on its own without having other organ-level components. For example, by changing the p_ups of a LeafHydraulics, one can simulate the case of drought without caring about other hydraulic systems. Same for function leaf_e_crit below. However, these functions are only useful for sensitivity analysis or when p_ups in the LeafHydraulics is accurate.","category":"page"},{"location":"API.html","page":"API","title":"API","text":"Examples","category":"page"},{"location":"API.html","page":"API","title":"API","text":"using PlantHydraulics\n\nFT = Float32;\nleaf = LeafHydraulics{FT}();\nrisk = leaf_xylem_risk(leaf, FT(0.01));\n@show risk;\nleaf.p_ups = FT(-1.0);\nrisk = leaf_xylem_risk(leaf, FT(0.01));\n@show risk;","category":"page"},{"location":"API.html","page":"API","title":"API","text":"Function leaf_e_crit calculates critical leaf transpiration rate, beyond which leaf will desicate. Function leaf_e_crit accounts for drought legacy effect by design, and the more severe the drought history, the lower the e_crit. Again, ini in the function is also optional, but a good guess will speed up the calculations.","category":"page"},{"location":"API.html","page":"API","title":"API","text":"leaf_e_crit","category":"page"},{"location":"API.html#PlantHydraulics.leaf_e_crit","page":"API","title":"PlantHydraulics.leaf_e_crit","text":"leaf_e_crit(hs::LeafHydraulics{FT}, ini::FT) where {FT<:AbstractFloat}\n\nCalculate the critical flow rate (K ≈ 0), given\n\nhs LeafHydraulics type struct\nini Initial guess\n\nNote, for the safety of no NaN, update e_crit when ΔP >= -0.01\n\n\n\n\n\n","category":"function"},{"location":"API.html","page":"API","title":"API","text":"Examples","category":"page"},{"location":"API.html","page":"API","title":"API","text":"using PlantHydraulics\n\nFT = Float32;\nleaf = LeafHydraulics{FT}();\nrisk = leaf_e_crit(leaf);\n@show risk;\nleaf.p_ups = FT(-1.0);\nrisk = leaf_e_crit(leaf);\n@show risk;","category":"page"},{"location":"API.html#Whow-plant-Hydraulics","page":"API","title":"Whow-plant Hydraulics","text":"","category":"section"},{"location":"API.html","page":"API","title":"API","text":"Though leaf_xylem_risk and leaf_e_crit can work on their own, the functions only evaluate the risks on leaf level. The more realistic case is that when leaf transpiration rate increases, p_ups in the LeafHydraulics gets more negative. Thus, the leaf_xylem_risk and leaf_e_crit tends to underestimate the risk and overestimate the critical flow rate. To overcome this problem, whole-plant level plant hydraulics are provided.","category":"page"},{"location":"API.html","page":"API","title":"API","text":"Function tree_p_from_flow calculates the leaf xylem end pressure for a whole-plant struct using these steps:","category":"page"},{"location":"API.html","page":"API","title":"API","text":"calculate the plant base pressure from a given total flow rate\ncalculate the trunk end pressure (if present)\ncalculate the branch end pressure (if present)\ncalculate the leaf end pressure (if present)","category":"page"},{"location":"API.html","page":"API","title":"API","text":"tree_p_from_flow","category":"page"},{"location":"API.html#PlantHydraulics.tree_p_from_flow","page":"API","title":"PlantHydraulics.tree_p_from_flow","text":"tree_p_from_flow(tree::GrassLikeHS{FT}, flow::FT) where {FT<:AbstractFloat}\ntree_p_from_flow(tree:: PalmLikeHS{FT}, flow::FT) where {FT<:AbstractFloat}\ntree_p_from_flow(tree:: TreeLikeHS{FT}, flow::FT) where {FT<:AbstractFloat}\n\nCalculate the leaf xylem end pressure, given\n\ntree GrassLikeHS or PalmLikeHS or TreeLikeHS   type hydraulics system\nflow Given flow rate\n\n\n\n\n\n","category":"function"},{"location":"API.html","page":"API","title":"API","text":"Accordingly, there is a function tree_e_crit to calculate the critical flow rate for the whole plant. Be aware that function tree_p_from_flow and tree_e_crit only applies to the case of only one canopy layer (or big-leaf model). As to the case of multiple canopy layer, more functions are pending.","category":"page"},{"location":"API.html","page":"API","title":"API","text":"tree_e_crit","category":"page"},{"location":"API.html#PlantHydraulics.tree_e_crit","page":"API","title":"PlantHydraulics.tree_e_crit","text":"tree_e_crit(tree::PalmLikeHS{FT}, ini::FT) where {FT<:AbstractFloat}\n\nCalculate the critical flow rate for the tree per LA, given\n\ntree GrassLikeHS or PalmLikeHS or TreeLikeHS   type hydraulics system\nini Initial guess of the critical flow rate\n\n\n\n\n\n","category":"function"}]
}
