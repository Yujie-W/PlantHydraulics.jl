<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · PlantHydraulics</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">PlantHydraulics</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li class="is-active"><a class="tocitem" href="API.html">API</a><ul class="internal"><li><a class="tocitem" href="#Plant-Hydraulic-System"><span>Plant Hydraulic System</span></a></li><li><a class="tocitem" href="#Leaf,-Root,-and-Stem-HS"><span>Leaf, Root, and Stem HS</span></a></li><li><a class="tocitem" href="#Whole-plant-HS"><span>Whole-plant HS</span></a></li><li><a class="tocitem" href="#Hydraulic-conductance"><span>Hydraulic conductance</span></a></li><li><a class="tocitem" href="#Pressure-and-Flow"><span>Pressure and Flow</span></a></li><li><a class="tocitem" href="#Root-Hydraulics"><span>Root Hydraulics</span></a></li><li><a class="tocitem" href="#Leaf-Hydraulics"><span>Leaf Hydraulics</span></a></li><li><a class="tocitem" href="#Whow-plant-Hydraulics"><span>Whow-plant Hydraulics</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="API.html">API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="API.html">API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/master/docs/src/API.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="Plant-Hydraulic-System"><a class="docs-heading-anchor" href="#Plant-Hydraulic-System">Plant Hydraulic System</a><a id="Plant-Hydraulic-System-1"></a><a class="docs-heading-anchor-permalink" href="#Plant-Hydraulic-System" title="Permalink"></a></h2><p>The PlantHydraulics module provides two levels of hydraulics system: organ-level and plant-level. The organ-level hydraulic systems include Leaf, Root, and Stem (trunk and branch). The plant-level hydraulic system is can be any combination of the three organs (custimized definition may apply).</p><h2 id="Leaf,-Root,-and-Stem-HS"><a class="docs-heading-anchor" href="#Leaf,-Root,-and-Stem-HS">Leaf, Root, and Stem HS</a><a id="Leaf,-Root,-and-Stem-HS-1"></a><a class="docs-heading-anchor-permalink" href="#Leaf,-Root,-and-Stem-HS" title="Permalink"></a></h2><p>Plant hydraulics is segmented to three organ-level systems/structs (<a href="API.html#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a>, <a href="API.html#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a>, and <a href="API.html#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a>) subject to an Abstract type (<a href="API.html#PlantHydraulics.AbstractHydraulicSystem"><code>AbstractHydraulicSystem</code></a>). The major differences among the three structs are</p><ul><li><a href="API.html#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> has an extra-xylary component</li><li><a href="API.html#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> has a rhizosphere component</li><li><a href="API.html#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> and <a href="API.html#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a> have a gravity component</li></ul><p>See the documentation for each struct for more details:</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.AbstractHydraulicSystem" href="#PlantHydraulics.AbstractHydraulicSystem"><code>PlantHydraulics.AbstractHydraulicSystem</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">abstract type AbstractHydraulicSystem{FT}</code></pre><p>Hierarchy of AbstractHydraulicSystem</p><ul><li><a href="API.html#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a></li><li><a href="API.html#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a></li><li><a href="API.html#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/types/hydraulics_organ.jl#L11-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.LeafHydraulics" href="#PlantHydraulics.LeafHydraulics"><code>PlantHydraulics.LeafHydraulics</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct LeafHydraulics{FT&lt;:AbstractFloat}</code></pre><p>A struct that contains leaf hydraulics information.</p><p><strong>Fields</strong></p><ul><li><p><code>area</code></p><p>Leaf area <code>[m²]</code></p></li><li><p><code>k_ox</code></p><p>Maximal extra-xylary hydraulic conductance <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>k_sla</code></p><p>Maximal leaf hydraulic conductance per leaf area <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>vc</code></p><p>Vulnerability curve</p></li><li><p><code>p_crt</code></p><p>Critical xylem pressure <code>[MPa]</code></p></li><li><p><code>flow</code></p><p>Flow rate in the xylem <code>[mol s⁻¹]</code></p></li><li><p><code>p_dos</code></p><p>Leaf xylem water pressure at the downstream end of leaf xylem <code>[MPa]</code></p></li><li><p><code>p_leaf</code></p><p>Leaf end water pressure at air-water interface <code>[MPa]</code></p></li><li><p><code>p_ups</code></p><p>Leaf xylem water pressure at the leaf base (upstream) <code>[MPa]</code></p></li><li><p><code>k_element</code></p><p>List of leaf k_max per element <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>k_history</code></p><p>List of leaf kr history per element</p></li><li><p><code>p_element</code></p><p>List of xylem water pressure <code>[MPa]</code></p></li><li><p><code>p_history</code></p><p>List of xylem water pressure history (normalized to 298.15 K) <code>[MPa]</code></p></li><li><p><code>f_st</code></p><p>Relative surface tension</p></li><li><p><code>f_vis</code></p><p>Relative viscosity</p></li><li><p><code>T_sap</code></p><p>Upstream sap temperature <code>[K]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.RootHydraulics" href="#PlantHydraulics.RootHydraulics"><code>PlantHydraulics.RootHydraulics</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct RootHydraulics{FT&lt;:AbstractFloat}</code></pre><p>A struct that contains root hydraulics information.</p><p><strong>Fields</strong></p><ul><li><p><code>area</code></p><p>Root cross-section area <code>[m²]</code></p></li><li><p><code>k_max</code></p><p>Maximal hydraulic conductance <code>[mol s⁻¹ MPa⁻¹]</code></p></li><li><p><code>k_s</code></p><p>Maximal xylem hydraulic conductivity <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>vc</code></p><p>Vulnerability curve</p></li><li><p><code>Δh</code></p><p>Root z difference <code>[m]</code></p></li><li><p><code>k_rhiz</code></p><p>Rhizosphere  conductance <code>[mol s⁻¹ MPa⁻¹]</code></p></li><li><p><code>soil_type</code></p><p>Soil type</p></li><li><p><code>soil_α</code></p><p>α is related to the inverse of the air entry suction, α &gt; 0</p></li><li><p><code>soil_n</code></p><p>Measure of the pore-size distribution</p></li><li><p><code>soil_m</code></p><p>1 - 1/n</p></li><li><p><code>flow</code></p><p>Flow rate in the xylem <code>[mol s⁻¹]</code></p></li><li><p><code>p_dos</code></p><p>Xylem water pressure at the downstream end of xylem <code>[MPa]</code></p></li><li><p><code>p_rhiz</code></p><p>Xylem-rhizosphere interface water pressure <code>[MPa]</code></p></li><li><p><code>p_ups</code></p><p>Soil matrix potential <code>[MPa]</code></p></li><li><p><code>k_element</code></p><p>List of k_max per element <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>k_history</code></p><p>List of kr history per element</p></li><li><p><code>p_element</code></p><p>List of xylem water pressure <code>[MPa]</code></p></li><li><p><code>p_gravity</code></p><p>List of pressure drop caused by gravity <code>[MPa]</code></p></li><li><p><code>p_history</code></p><p>List of xylem water pressure history (normalized to 298.15 K) <code>[MPa]</code></p></li><li><p><code>f_st</code></p><p>Relative surface tension</p></li><li><p><code>f_vis</code></p><p>Relative viscosity</p></li><li><p><code>T_sap</code></p><p>Upstream sap temperature <code>[K]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.StemHydraulics" href="#PlantHydraulics.StemHydraulics"><code>PlantHydraulics.StemHydraulics</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct StemHydraulics{FT&lt;:AbstractFloat}</code></pre><p>A struct that contains stem hydraulics information.</p><p><strong>Fields</strong></p><ul><li><p><code>area</code></p><p>Stem cross-section area <code>[m²]</code></p></li><li><p><code>k_max</code></p><p>Maximal hydraulic conductance <code>[mol s⁻¹ MPa⁻¹]</code></p></li><li><p><code>k_s</code></p><p>Maximal xylem hydraulic conductivity <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>vc</code></p><p>Vulnerability curve</p></li><li><p><code>Δh</code></p><p>Stem height difference <code>[m]</code></p></li><li><p><code>p_dos</code></p><p>Xylem water pressure at the downstream end of xylem <code>[MPa]</code></p></li><li><p><code>p_ups</code></p><p>Xylem water pressure at the base (upstream) <code>[MPa]</code></p></li><li><p><code>k_element</code></p><p>List of k_max per element <code>[mol s⁻¹ MPa⁻¹ m⁻²]</code></p></li><li><p><code>k_history</code></p><p>List of kr history per element</p></li><li><p><code>p_element</code></p><p>List of xylem water pressure <code>[MPa]</code></p></li><li><p><code>p_gravity</code></p><p>List of pressure drop caused by gravity <code>[MPa]</code></p></li><li><p><code>p_history</code></p><p>List of xylem water pressure history (normalized to 298.15 K) <code>[MPa]</code></p></li><li><p><code>f_st</code></p><p>Relative surface tension</p></li><li><p><code>f_vis</code></p><p>Relative viscosity</p></li><li><p><code>T_sap</code></p><p>Upstream sap temperature <code>[K]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L7">source</a></section></article><p>To initialize a hydraulics system, one needs to provide the floating type, for example:</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
hs_leaf = LeafHydraulics{FT}();
hs_root = RootHydraulics{FT}();
hs_stem = StemHydraulics{FT}();</code></pre><h2 id="Whole-plant-HS"><a class="docs-heading-anchor" href="#Whole-plant-HS">Whole-plant HS</a><a id="Whole-plant-HS-1"></a><a class="docs-heading-anchor-permalink" href="#Whole-plant-HS" title="Permalink"></a></h2><p>Plants differ in their structures, for example, some plants have a canopy far above the ground elevated by a trunk, some plants have a structured canopy supported by branch systems, and some plant has no trunk at all. To represent the structural differences, several types of plant hydraulics systems are pre-defined, and they are <a href="API.html#PlantHydraulics.GrassLikeHS"><code>GrassLikeHS</code></a>, <a href="API.html#PlantHydraulics.PalmLikeHS"><code>PalmLikeHS</code></a>, and <a href="API.html#PlantHydraulics.TreeLikeHS"><code>TreeLikeHS</code></a> structs subject to a <a href="API.html#PlantHydraulics.AbstractPlantHS"><code>AbstractPlantHS</code></a> type, where <code>HS</code> stands for hydraulic system. The major difference between the <code>HS</code>s are</p><ul><li><a href="API.html#PlantHydraulics.GrassLikeHS"><code>GrassLikeHS</code></a> has only mutiple root and canopy layers, no trunk or branch</li><li><a href="API.html#PlantHydraulics.PalmLikeHS"><code>PalmLikeHS</code></a> has multiple root layers, a trunk, and multiple canopy layers, no branch system</li><li><a href="API.html#PlantHydraulics.TreeLikeHS"><code>TreeLikeHS</code></a> has multiple root layers, a trunk, and multiple branch+canopy layers, and each branch corresponds to a canopy layer</li></ul><p>See the documentation for each struct for more details:</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.AbstractPlantHS" href="#PlantHydraulics.AbstractPlantHS"><code>PlantHydraulics.AbstractPlantHS</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">abstract type AbstractPlantHS{FT}</code></pre><p>Hierachy of AbstractPlantHS</p><ul><li><a href="API.html#PlantHydraulics.GrassLikeHS"><code>GrassLikeHS</code></a></li><li><a href="API.html#PlantHydraulics.PalmLikeHS"><code>PalmLikeHS</code></a></li><li><a href="API.html#PlantHydraulics.TreeLikeHS"><code>TreeLikeHS</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/types/hydraulics_plant.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.GrassLikeHS" href="#PlantHydraulics.GrassLikeHS"><code>PlantHydraulics.GrassLikeHS</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct GrassLikeHS{FT&lt;:AbstractFloat}</code></pre><p>A plant hydraulic system like a grass, which contains multiple root layers, and multiple canopy layers. No trunk or branch system applies.</p><p><strong>Fields</strong></p><ul><li><p><code>n_root</code></p><p>Root Layers</p></li><li><p><code>n_canopy</code></p><p>Canopy Layers</p></li><li><p><code>roots</code></p><p>Roots system</p></li><li><p><code>leaves</code></p><p>Leaves</p></li><li><p><code>root_index_in_soil</code></p><p>Corresponding soil layer per root layer</p></li><li><p><code>canopy_index_in_air</code></p><p>Corresponding air layer per canopy layer</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.PalmLikeHS" href="#PlantHydraulics.PalmLikeHS"><code>PlantHydraulics.PalmLikeHS</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct PalmLikeHS{FT&lt;:AbstractFloat}</code></pre><p>A plant hydraulic system like a palm, which contains multiple root layers, one trunk, and multiple canopy layers. No branch system applies.</p><p><strong>Fields</strong></p><ul><li><p><code>n_root</code></p><p>Root Layers</p></li><li><p><code>n_canopy</code></p><p>Canopy Layers</p></li><li><p><code>roots</code></p><p>Roots system</p></li><li><p><code>trunk</code></p><p>Trunk</p></li><li><p><code>leaves</code></p><p>Leaves</p></li><li><p><code>root_index_in_soil</code></p><p>Corresponding soil layer per root layer</p></li><li><p><code>canopy_index_in_air</code></p><p>Corresponding air layer per canopy layer</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.TreeLikeHS" href="#PlantHydraulics.TreeLikeHS"><code>PlantHydraulics.TreeLikeHS</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct TreeLikeHS{FT&lt;:AbstractFloat}</code></pre><p>A plant hydraulic system like a tree, which contains multiple root layers, one trunk, and multiple branch and canopy layers.</p><p><strong>Fields</strong></p><ul><li><p><code>n_root</code></p><p>Root Layers</p></li><li><p><code>n_canopy</code></p><p>Canopy Layers</p></li><li><p><code>roots</code></p><p>Roots system</p></li><li><p><code>trunk</code></p><p>Trunk</p></li><li><p><code>branch</code></p><p>Branch system</p></li><li><p><code>leaves</code></p><p>Leaves</p></li><li><p><code>root_index_in_soil</code></p><p>Corresponding soil layer per root layer</p></li><li><p><code>canopy_index_in_air</code></p><p>Corresponding air layer per canopy layer</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L8">source</a></section></article><p>To ease the initialization of a plant hydraulics system, a few customized functions are provided for quick initialization. More importantly, modifications to each field in the struct are always allowed. The quick functions are <a href="API.html#PlantHydraulics.create_grass_like_hs"><code>create_grass_like_hs</code></a>, <a href="API.html#PlantHydraulics.create_palm_like_hs"><code>create_palm_like_hs</code></a>, and <a href="API.html#PlantHydraulics.create_tree_like_hs"><code>create_tree_like_hs</code></a>:</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.create_grass_like_hs" href="#PlantHydraulics.create_grass_like_hs"><code>PlantHydraulics.create_grass_like_hs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_grass_like_hs(z_root::FT, z_trunk::FT, z_canopy::FT, soil_bounds::Array{FT,1}, air_bounds::Array{FT,1}) where {FT&lt;:AbstractFloat}</code></pre><p>Create a <a href="API.html#PlantHydraulics.GrassLikeHS"><code>GrassLikeHS</code></a>, given</p><ul><li><code>z_root</code> Maximal root depth (negative value)</li><li><code>z_canopy</code> Maximal canopy height (positive value)</li><li><code>soil_bounds</code> Array of soil layer boundaries starting from 0</li><li><code>air_bounds</code> Array of air layer boundaries starting from 0</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/types/initialize_plant.jl#L6-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.create_palm_like_hs" href="#PlantHydraulics.create_palm_like_hs"><code>PlantHydraulics.create_palm_like_hs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_palm_like_hs(z_root::FT, z_trunk::FT, z_canopy::FT, soil_bounds::Array{FT,1}, air_bounds::Array{FT,1}) where {FT&lt;:AbstractFloat}</code></pre><p>Create a <a href="API.html#PlantHydraulics.PalmLikeHS"><code>PalmLikeHS</code></a>, given</p><ul><li><code>z_root</code> Maximal root depth (negative value)</li><li><code>z_trunk</code> Maximal trunk height (positive value)</li><li><code>z_canopy</code> Maximal canopy height (positive value)</li><li><code>soil_bounds</code> Array of soil layer boundaries starting from 0</li><li><code>air_bounds</code> Array of air layer boundaries starting from 0</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/types/initialize_plant.jl#L73-L82">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.create_tree_like_hs" href="#PlantHydraulics.create_tree_like_hs"><code>PlantHydraulics.create_tree_like_hs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">create_tree_like_hs(z_root::FT, z_trunk::FT, z_canopy::FT, soil_bounds::Array{FT,1}, air_bounds::Array{FT,1}) where {FT&lt;:AbstractFloat}</code></pre><p>Create a <a href="API.html#PlantHydraulics.TreeLikeHS"><code>TreeLikeHS</code></a>, given</p><ul><li><code>z_root</code> Maximal root depth (negative value)</li><li><code>z_trunk</code> Maximal trunk height (positive value)</li><li><code>z_canopy</code> Maximal canopy height (positive value)</li><li><code>soil_bounds</code> Array of soil layer boundaries starting from 0</li><li><code>air_bounds</code> Array of air layer boundaries starting from 0</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/types/initialize_plant.jl#L160-L169">source</a></section></article><p>What these functions do are to determine how many root layers and branch/canopy layers to add based on the tree information and environmental settings. To determine number of root layers, rooting depth and the soil layer information are required. The <code>z_root</code> is the maximal root depth in negative number, and <code>soil_bounds</code> is the boundaries of soil layers staring from 0. For example, for a <code>soil_bounds</code> of [0.0, -1.0, -2.0, -3.0, -4.0], a <code>z_root</code> of -1 gives 1 root layer, and a <code>z_root</code> of -1.5 or -2.0 gives 2 root layers. The <code>z_trunk</code>, <code>z_canopy</code>, and <code>air_bounds</code> determine how many canopy layers to add. For example, for a <code>air_bounds</code> of [0.0, 1.0, 2.0, 3.0, 4.0, 5.0 ... 20.0, 21.0, 22.0], a <code>z_trunk</code> of 5.0 <code>z_canopy</code> of 7.0 give 2 canopy layers, and a <code>z_trunk</code> of 5.5 <code>z_canopy</code> of 7.0 give 2 canopy layers. Also, the <code>root_index_in_soil</code> and <code>canopy_index_in_air</code> indicate which soil or air layer the root or canopy layer corresponds with, respectively. For instance, a index of 7 means that the canopy layer should use the 7th air layer.</p><p>To initialize a whole-plant hydraulic system, checkout the example below:</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
grass = create_grass_like_hs(FT(-2.1), FT(0.5), FT(8), FT[0,-1,-2,-3], collect(FT,0:1:20));
palm  =  create_palm_like_hs(FT(-2.1), FT(0.5), FT(8), FT[0,-1,-2,-3], collect(FT,0:1:20));
tree  =  create_tree_like_hs(FT(-2.1), FT(0.5), FT(8), FT[0,-1,-2,-3], collect(FT,0:1:20));</code></pre><h2 id="Hydraulic-conductance"><a class="docs-heading-anchor" href="#Hydraulic-conductance">Hydraulic conductance</a><a id="Hydraulic-conductance-1"></a><a class="docs-heading-anchor-permalink" href="#Hydraulic-conductance" title="Permalink"></a></h2><p>Plants transport water through xylem conduits (vessels in most angiosperms, trachieds in most gymnosperms). With the ascent of sap along the hydraulic system, water pressure in the conduits is typically negative. The negative xylem water pressure tends to pull air from surrounding tisses or the atmosphere into the xylem conduits, resulting in xylem cavitation. The air bubbles in cavitated conduits block water flow, and thus results in decline of water transport capability (measured by xylem hydraulic conductance).</p><p>Typically, the correlation between xylem water pressure (<span>$P \leq 0$</span>) and hydraulic conductance (<span>$k$</span>) is expressed by a Weibull function for <a href="API.html#PlantHydraulics.WeibullSingle"><code>WeibullSingle</code></a> type correlation:</p><div>\[k = k_\text{max} \cdot \exp \left( -\left( \dfrac{-P}{B} \right)^C \right)\]</div><p>where <span>$k_\text{max}$</span> is the maximal hydraulic conductance, and <span>$B$</span> and <span>$C$</span> are the Weibull parameters. This correlation is also known as vulnerability curve (VC) to drought stress. Sometimes, plants exhibit a segmented VC, for example, the fibers may transport water as well and are much more resistant to drought than vessels. Thus, a dual Weibull function is presented for <a href="API.html#PlantHydraulics.WeibullDual"><code>WeibullDual</code></a> type correlation (<span>$P \leq 0$</span>):</p><div>\[k = k_\text{max} \cdot \left\{ f_1 \cdot \exp \left[ -\left( \dfrac{-P}{B_1} \right)^{C_1} \right] +
                         (1 - f_1) \cdot \exp \left[ -\left( \dfrac{-P}{B_2} \right)^{C_2} \right] \right\}\]</div><p>The VC formulations are abstractized as</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.AbstractVulnerability" href="#PlantHydraulics.AbstractVulnerability"><code>PlantHydraulics.AbstractVulnerability</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">abstract type AbstractVulnerability{FT}</code></pre><p>Hierachy of AbstractVulnerability</p><ul><li><a href="API.html#PlantHydraulics.WeibullSingle"><code>WeibullSingle</code></a></li><li><a href="API.html#PlantHydraulics.WeibullDual"><code>WeibullDual</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/types/vulnerability.jl#L6-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.WeibullDual" href="#PlantHydraulics.WeibullDual"><code>PlantHydraulics.WeibullDual</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct WeibullDual{FT}</code></pre><p>Struct that contains dual Weibull function parameters.</p><p><strong>Fields</strong></p><ul><li><p><code>b1</code></p><p>B of first part <code>[MPa]</code></p></li><li><p><code>c1</code></p><p>C of first part</p></li><li><p><code>f1</code></p><p>F of first part</p></li><li><p><code>b2</code></p><p>B of second part <code>[MPa]</code></p></li><li><p><code>c2</code></p><p>C of second part</p></li><li><p><code>f2</code></p><p>F of second part</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.WeibullSingle" href="#PlantHydraulics.WeibullSingle"><code>PlantHydraulics.WeibullSingle</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct WeibullSingle{FT}</code></pre><p>Struct that contains single Weibull function parameters.</p><p><strong>Fields</strong></p><ul><li><p><code>b</code></p><p>B of first part <code>[MPa]</code></p></li><li><p><code>c</code></p><p>C of first part</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/2d5741174ce3e6a394010d2e470e4269ca54607f/base/#L0-L7">source</a></section></article><p>The function to call is</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.xylem_k_ratio" href="#PlantHydraulics.xylem_k_ratio"><code>PlantHydraulics.xylem_k_ratio</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">xylem_k_ratio(vc::WeibullSingle{FT}, p_25::FT, vis::FT) where {FT&lt;:AbstractFloat}
xylem_k_ratio(vc::  WeibullDual{FT}, p_25::FT, vis::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Returns the relative hydraulic conductance, given</p><ul><li><code>vc</code> Xylem vulnerability curve</li><li><code>p</code> Xylem pressure at 298.15 K in <code>[MPa]</code></li><li><code>p_25</code> Equivalent xylem pressure at 298.15 K in <code>[MPa]</code></li><li><code>vis</code> Relative viscosity. If missing, vis = 1.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/vulnerability/vc.jl#L6-L15">source</a></section></article><p>Note it here that <code>xylem_k_ratio(vc, p)</code> calculate the k without making temperature corrections, but the <code>xylem_k_ratio(vc, p_25, vis)</code> makes correction over the viscosity (the higher the viscosity, the lower the k). Also, <code>p_25</code> means that the pressure has been corrected to 298.15 K for surface tension (the higher the surface tension, the more resistant the xylem).</p><p>Meanwhile, there is a function to call to calculate the critical pressure, beyond which leaf will decicate. The critical pressure is calculated as the pressure at which <span>$k$</span> is 0.001 of <span>$k_\text{max}$</span> for <a href="API.html#PlantHydraulics.WeibullSingle"><code>WeibullSingle</code></a> (for <a href="API.html#PlantHydraulics.WeibullDual"><code>WeibullDual</code></a>, each segment need to reach 0.001). The functions is</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.xylem_p_crit" href="#PlantHydraulics.xylem_p_crit"><code>PlantHydraulics.xylem_p_crit</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">xylem_p_crit(vc::WeibullSingle{FT}, st::FT) where {FT&lt;:AbstractFloat}
xylem_p_crit(vc::WeibullDual{FT}  , st::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Returns the relative hydraulic conductance, given</p><ul><li><code>vc</code> Xylem vulnerability curve</li><li><code>st</code> Relative surface tension. If missing, vis = 1.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/vulnerability/pcrit.jl#L6-L13">source</a></section></article><p>Examples:</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
vc_1 = WeibullSingle{FT}();
vc_2 = WeibullDual{FT}();

k_1 = xylem_k_ratio(vc_1, -1.0);
k_2 = xylem_k_ratio(vc_2, -1.0);
k_3 = xylem_k_ratio(vc_1, -1.0, 1.2);
k_4 = xylem_k_ratio(vc_2, -1.0, 1.2);</code></pre><h2 id="Pressure-and-Flow"><a class="docs-heading-anchor" href="#Pressure-and-Flow">Pressure and Flow</a><a id="Pressure-and-Flow-1"></a><a class="docs-heading-anchor-permalink" href="#Pressure-and-Flow" title="Permalink"></a></h2><p>The PlantHydraulics module is designed to run numerically for the following reasons:</p><ul><li>Weibull function is cannot be integrated</li><li>The VC is segmented, i.e., if <span>$P &gt; 0$</span>, <span>$k = k_\text{max}$</span> (implemented in <a href="API.html#PlantHydraulics.xylem_k_ratio"><code>xylem_k_ratio</code></a>)</li><li>Once xylem cavitation occurs, it cannot be easily recovered unless <span>$P &gt; 0$</span>, and thus there is a drought legacy effect. This is why there are a few fields in the <a href="API.html#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a>, <a href="API.html#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a>, and <a href="API.html#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a> structs to store the drought history information.</li><li>Temperature may change along the flow path. The <code>f_st</code> and <code>f_vis</code> in the structs help deal with these effects.</li></ul><p>Function <a href="API.html#PlantHydraulics.xylem_p_from_flow"><code>xylem_p_from_flow</code></a> calculates the xylem end pressure for an organ-level hysraulic system. As mentioned above, the <a href="API.html#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> and <a href="API.html#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a> has a gravity component, and the <a href="API.html#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> has a rhizosphere component. Also be aware that <a href="API.html#PlantHydraulics.xylem_p_from_flow"><code>xylem_p_from_flow</code></a> accounts for temperature effects on surface tension and viscosity.</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.xylem_p_from_flow" href="#PlantHydraulics.xylem_p_from_flow"><code>PlantHydraulics.xylem_p_from_flow</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">xylem_p_from_flow(hs::LeafHydraulics{FT}, flow::FT) where {FT&lt;:AbstractFloat}
xylem_p_from_flow(hs::RootHydraulics{FT}, flow::FT) where {FT&lt;:AbstractFloat}
xylem_p_from_flow(hs::StemHydraulics{FT}, flow::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Return the xylen end pressure from flow rate, given</p><ul><li><code>hs</code> <a href="API.html#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> or <a href="API.html#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> or   <a href="API.html#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a> type struct</li><li><code>flow</code> Flow rate (per leaf area)</li></ul><p>Note, gravity is accounted for in root and stem; rhizosphere conductance is     accounted for in root; extra-xylary conductance is not accounted for in     leaf here because it calculates xylem end pressure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/hydraulics/base.jl#L6-L19">source</a></section></article><p>Noe that function <a href="API.html#PlantHydraulics.xylem_p_from_flow"><code>xylem_p_from_flow</code></a> does not update the pressure profiles or history in the xylem. To update these profiles, use <a href="API.html#PlantHydraulics.hydraulic_p_profile!"><code>hydraulic_p_profile!</code></a>:</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.hydraulic_p_profile!" href="#PlantHydraulics.hydraulic_p_profile!"><code>PlantHydraulics.hydraulic_p_profile!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">hydraulic_p_profile!(hs::LeafHydraulics{FT}, flow::FT) where {FT&lt;:AbstractFloat}
hydraulic_p_profile!(hs::RootHydraulics{FT}, flow::FT) where {FT&lt;:AbstractFloat}
hydraulic_p_profile!(hs::StemHydraulics{FT}, flow::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Update the pressure profile, given</p><ul><li><code>hs</code> <a href="API.html#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> or <a href="API.html#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> or   <a href="API.html#PlantHydraulics.StemHydraulics"><code>StemHydraulics</code></a> type struct</li><li><code>flow</code> Flow rate (per leaf area)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/hydraulics/base.jl#L121-L130">source</a></section></article><p>Examples:</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
leaf = LeafHydraulics{FT}();
p = xylem_p_from_flow(leaf, FT(0.01));
@show leaf.p_element;
hydraulic_p_profile!(leaf, FT(0.01));
@show leaf.p_element;</code></pre><h2 id="Root-Hydraulics"><a class="docs-heading-anchor" href="#Root-Hydraulics">Root Hydraulics</a><a id="Root-Hydraulics-1"></a><a class="docs-heading-anchor-permalink" href="#Root-Hydraulics" title="Permalink"></a></h2><p>Function <a href="API.html#PlantHydraulics.xylem_p_from_flow"><code>xylem_p_from_flow</code></a> works for the case of only 1 root layer if one needs the plant base xylem water pressure. However, when there are multiple root layers, <a href="API.html#PlantHydraulics.xylem_p_from_flow"><code>xylem_p_from_flow</code></a> does not apply. In this case, iterations are required to calculate the xylem end pressure for each root layers, and then make sure all root layers have the same xylem end pressure. A few functions are provided to realize this.</p><p>Function <a href="API.html#PlantHydraulics.root_q_from_pressure"><code>root_q_from_pressure</code></a> uses Root Solving method to calculate the flow rate through the <a href="API.html#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> struct that yields the given xylem end pressure. The <code>ini</code> in the function is optional. However, using the flow rate from last instant when pressure does not differ much will speed up the calculation.</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.root_q_from_pressure" href="#PlantHydraulics.root_q_from_pressure"><code>PlantHydraulics.root_q_from_pressure</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">root_q_from_pressure(root::RootHydraulics{FT}, pressure::FT, ini::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate the flow rate from a given tree base pressure, given</p><ul><li><code>root</code> <a href="API.html#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> type struct</li><li><code>pressure</code> Given tree base pressure in <code>[MPa]</code></li><li><code>ini</code> Initial guess</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/hydraulics/root.jl#L6-L13">source</a></section></article><p>Computing the flow rates in all the root layers and the plant base xylem pressure from a given flow needs more iterations based on <a href="API.html#PlantHydraulics.root_q_from_pressure"><code>root_q_from_pressure</code></a>. The algorithm is to calculate the flow rates in all the root layers for a given plant base xylem pressure, and then use the Root Solving methods to calculate pressure that yields a total flow rate equals to the given value. The function <a href="API.html#PlantHydraulics.q_diff"><code>q_diff</code></a> calculates the difference of total flow rate for a given <code>pressure</code> and the <code>target</code> flow rate. The function <a href="API.html#PlantHydraulics.root_qs_p_from_q"><code>root_qs_p_from_q</code></a> calculates the flows rates in all the root layers and the plant base xylem pressure. Note that <code>ini</code> in the function is also optional, but a good guess will speed up the calculations. Be aware that function <a href="API.html#PlantHydraulics.root_qs_p_from_q"><code>root_qs_p_from_q</code></a> does not update the pressure profiles in the plant struct.</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.q_diff" href="#PlantHydraulics.q_diff"><code>PlantHydraulics.q_diff</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">q_diff(roots::Array{RootHydraulics{FT},1}, pressure::FT, target::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Function to calculate the flow rate difference to find solution pressure, given</p><ul><li><code>roots</code> Array of <a href="API.html#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> type struct</li><li><code>pressure</code> Given tree base pressure in <code>[MPa]</code></li><li><code>target</code> Target flow rate in <code>[mol s⁻¹]</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/hydraulics/root.jl#L33-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.root_qs_p_from_q" href="#PlantHydraulics.root_qs_p_from_q"><code>PlantHydraulics.root_qs_p_from_q</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">root_qs_p_from_q(roots::Array{RootHydraulics{FT},1}, flow::FT, ini::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Solve for the flow rates in each root layer and root pressure, given</p><ul><li><code>roots</code> Array of <a href="API.html#PlantHydraulics.RootHydraulics"><code>RootHydraulics</code></a> struts</li><li><code>flow</code> Total flow rates</li><li><code>ini</code> Initial guess of plant base pressure in <code>[MPa]</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/hydraulics/root.jl#L56-L63">source</a></section></article><p>Example</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
palm  =  create_palm_like_hs(FT(-2.1), FT(0.5), FT(8), FT[0,-1,-2,-3], collect(FT,0:1:20));
qs,p = root_qs_p_from_q(palm.roots, FT(1));</code></pre><h2 id="Leaf-Hydraulics"><a class="docs-heading-anchor" href="#Leaf-Hydraulics">Leaf Hydraulics</a><a id="Leaf-Hydraulics-1"></a><a class="docs-heading-anchor-permalink" href="#Leaf-Hydraulics" title="Permalink"></a></h2><p>The stomatal models often require plant hydraulics either as a correction factor (in empirical stomatal models) or as the risk term (in optimal stomatal models). To facilitate the calculations, a few specific functions are provided.</p><p>Function <a href="API.html#PlantHydraulics.leaf_xylem_risk"><code>leaf_xylem_risk</code></a> returns the risk in xylem hydraulic function based on the most downstream end of the xylem. The risk of plant hydraulic system is not only on current system, but also potential new growth (plants don&#39;t want to risk new growth either). Thus, function <a href="API.html#PlantHydraulics.leaf_xylem_risk"><code>leaf_xylem_risk</code></a> evaluates the risk from the xylem pressure calculated from current system (with drought history), and then compute the risk from the pressure (the severer the srought history, the higher the risk):</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.leaf_xylem_risk" href="#PlantHydraulics.leaf_xylem_risk"><code>PlantHydraulics.leaf_xylem_risk</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">leaf_xylem_risk(hs::LeafHydraulics{FT}, flow::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Evaluate the hydraulic risk at the end of leaf xylem, given</p><ul><li><code>hs</code> <a href="API.html#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> type struct</li><li><code>flow</code> Flow rate (per leaf area)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/hydraulics/leaf.jl#L6-L12">source</a></section></article><p>Note that function <a href="API.html#PlantHydraulics.leaf_xylem_risk"><code>leaf_xylem_risk</code></a> can work on its own without having other organ-level components. For example, by changing the <code>p_ups</code> of a <a href="API.html#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a>, one can simulate the case of drought without caring about other hydraulic systems. Same for function <a href="API.html#PlantHydraulics.leaf_e_crit"><code>leaf_e_crit</code></a> below. However, these functions are only useful for sensitivity analysis or when <code>p_ups</code> in the <a href="API.html#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> is accurate.</p><p>Examples</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
leaf = LeafHydraulics{FT}();
risk = leaf_xylem_risk(leaf, FT(0.01));
@show risk;
leaf.p_ups = FT(-1.0);
risk = leaf_xylem_risk(leaf, FT(0.01));
@show risk;</code></pre><p>Function <a href="API.html#PlantHydraulics.leaf_e_crit"><code>leaf_e_crit</code></a> calculates critical leaf transpiration rate, beyond which leaf will desicate. Function <a href="API.html#PlantHydraulics.leaf_e_crit"><code>leaf_e_crit</code></a> accounts for drought legacy effect by design, and the more severe the drought history, the lower the <code>e_crit</code>. Again, <code>ini</code> in the function is also optional, but a good guess will speed up the calculations.</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.leaf_e_crit" href="#PlantHydraulics.leaf_e_crit"><code>PlantHydraulics.leaf_e_crit</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">leaf_e_crit(hs::LeafHydraulics{FT}, ini::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate the critical flow rate (K ≈ 0), given</p><ul><li><code>hs</code> <a href="API.html#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> type struct</li><li><code>ini</code> Initial guess</li></ul><p>Note, for the safety of no NaN, update e_crit when ΔP &gt;= -0.01</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/hydraulics/leaf.jl#L37-L45">source</a></section></article><p>Examples</p><pre><code class="language-julia">using PlantHydraulics

FT = Float32;
leaf = LeafHydraulics{FT}();
risk = leaf_e_crit(leaf);
@show risk;
leaf.p_ups = FT(-1.0);
risk = leaf_e_crit(leaf);
@show risk;</code></pre><h2 id="Whow-plant-Hydraulics"><a class="docs-heading-anchor" href="#Whow-plant-Hydraulics">Whow-plant Hydraulics</a><a id="Whow-plant-Hydraulics-1"></a><a class="docs-heading-anchor-permalink" href="#Whow-plant-Hydraulics" title="Permalink"></a></h2><p>Though <a href="API.html#PlantHydraulics.leaf_xylem_risk"><code>leaf_xylem_risk</code></a> and <a href="API.html#PlantHydraulics.leaf_e_crit"><code>leaf_e_crit</code></a> can work on their own, the functions only evaluate the risks on leaf level. The more realistic case is that when leaf transpiration rate increases, <code>p_ups</code> in the <a href="API.html#PlantHydraulics.LeafHydraulics"><code>LeafHydraulics</code></a> gets more negative. Thus, the <a href="API.html#PlantHydraulics.leaf_xylem_risk"><code>leaf_xylem_risk</code></a> and <a href="API.html#PlantHydraulics.leaf_e_crit"><code>leaf_e_crit</code></a> tends to underestimate the risk and overestimate the critical flow rate. To overcome this problem, whole-plant level plant hydraulics are provided.</p><p>Function <a href="API.html#PlantHydraulics.tree_p_from_flow"><code>tree_p_from_flow</code></a> calculates the leaf xylem end pressure for a whole-plant struct using these steps:</p><ul><li>calculate the plant base pressure from a given total flow rate</li><li>calculate the trunk end pressure (if present)</li><li>calculate the branch end pressure (if present)</li><li>calculate the leaf end pressure (if present)</li></ul><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.tree_p_from_flow" href="#PlantHydraulics.tree_p_from_flow"><code>PlantHydraulics.tree_p_from_flow</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">tree_p_from_flow(tree::GrassLikeHS{FT}, flow::FT) where {FT&lt;:AbstractFloat}
tree_p_from_flow(tree:: PalmLikeHS{FT}, flow::FT) where {FT&lt;:AbstractFloat}
tree_p_from_flow(tree:: TreeLikeHS{FT}, flow::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate the leaf xylem end pressure, given</p><ul><li><code>tree</code> <a href="API.html#PlantHydraulics.GrassLikeHS"><code>GrassLikeHS</code></a> or <a href="API.html#PlantHydraulics.PalmLikeHS"><code>PalmLikeHS</code></a> or <a href="API.html#PlantHydraulics.TreeLikeHS"><code>TreeLikeHS</code></a>   type hydraulics system</li><li><code>flow</code> Given flow rate</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/hydraulics/plant.jl#L6-L15">source</a></section></article><p>Accordingly, there is a function <a href="API.html#PlantHydraulics.tree_e_crit"><code>tree_e_crit</code></a> to calculate the critical flow rate for the whole plant. Be aware that function <a href="API.html#PlantHydraulics.tree_p_from_flow"><code>tree_p_from_flow</code></a> and <a href="API.html#PlantHydraulics.tree_e_crit"><code>tree_e_crit</code></a> only applies to the case of only one canopy layer (or big-leaf model). As to the case of multiple canopy layer, more functions are pending.</p><article class="docstring"><header><a class="docstring-binding" id="PlantHydraulics.tree_e_crit" href="#PlantHydraulics.tree_e_crit"><code>PlantHydraulics.tree_e_crit</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">tree_e_crit(tree::PalmLikeHS{FT}, ini::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate the critical flow rate for the tree per LA, given</p><ul><li><code>tree</code> <a href="API.html#PlantHydraulics.GrassLikeHS"><code>GrassLikeHS</code></a> or <a href="API.html#PlantHydraulics.PalmLikeHS"><code>PalmLikeHS</code></a> or <a href="API.html#PlantHydraulics.TreeLikeHS"><code>TreeLikeHS</code></a>   type hydraulics system</li><li><code>ini</code> Initial guess of the critical flow rate</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/PlantHydraulics.jl/blob/857accd126b97c0057e8b57ceb2d5ec973fc11f7/src/hydraulics/plant.jl#L151-L158">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="index.html">« Home</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 8 July 2020 14:01">Wednesday 8 July 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
